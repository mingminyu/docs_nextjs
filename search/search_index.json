{"config":{"lang":["en"],"separator":"[\\s\\u200b\\u3000\\-\u3001\u3002\uff0c\uff0e\uff1f\uff01\uff1b]+","pipeline":["stemmer"]},"docs":[{"location":"","title":"\u4ecb\u7ecd","text":"<p>\u6b22\u8fce\u6765\u5230 Next.js \u6587\u6863\uff01</p>"},{"location":"#1-nextjs","title":"1. \u4ec0\u4e48\u662f Next.js","text":"<p>Next.js \u662f\u4e00\u4e2a\u7528\u4e8e\u6784\u5efa\u5168\u6808 Web \u5e94\u7528\u7a0b\u5e8f\u7684 React \u6846\u67b6\u3002\u60a8\u53ef\u4ee5\u4f7f\u7528 React Components \u6765\u6784\u5efa\u7528\u6237\u754c\u9762\uff0c\u5e76\u4f7f\u7528 Next.js \u6765\u5b9e\u73b0\u9644\u52a0\u529f\u80fd\u548c\u4f18\u5316\u3002</p> <p>\u5728\u5e95\u5c42\uff0cNext.js \u8fd8\u62bd\u8c61\u5e76\u81ea\u52a8\u914d\u7f6e React \u6240\u9700\u7684\u5de5\u5177\uff0c\u4f8b\u5982\u6346\u7ed1\u3001\u7f16\u8bd1\u7b49\u3002\u8fd9\u4f7f\u60a8\u53ef\u4ee5\u4e13\u6ce8\u4e8e\u6784\u5efa\u5e94\u7528\u7a0b\u5e8f\uff0c\u800c\u4e0d\u662f\u82b1\u65f6\u95f4\u8fdb\u884c\u914d\u7f6e\u3002</p> <p>\u65e0\u8bba\u60a8\u662f\u4e2a\u4eba\u5f00\u53d1\u4eba\u5458\u8fd8\u662f\u5927\u578b\u56e2\u961f\u7684\u4e00\u5458\uff0cNext.js \u90fd\u53ef\u4ee5\u5e2e\u52a9\u60a8\u6784\u5efa\u4ea4\u4e92\u5f0f\u3001\u52a8\u6001\u4e14\u5feb\u901f\u7684 React \u5e94\u7528\u7a0b\u5e8f\u3002</p>"},{"location":"#2","title":"2. \u4e3b\u8981\u7279\u6027","text":""},{"location":"app/","title":"\u5e94\u7528\u8def\u7531\u5668","text":"<p>Next.js \u5e94\u7528\u8def\u7531\u5668\uff08App Router\uff09 \u5f15\u5165\u4e86\u4e00\u79cd\u65b0\u6a21\u578b\uff0c\u7528\u4e8e\u4f7f\u7528 React \u7684\u6700\u65b0\u529f\u80fd\uff08\u4f8b\u5982\u670d\u52a1\u7aef\u7ec4\u4ef6\u3001Suspense \u6d41\u5f0f\u4f20\u8f93\u548c\u670d\u52a1\u7aef\u64cd\u4f5c\uff09\u6784\u5efa\u5e94\u7528\u7a0b\u5e8f\u3002</p> <p>\u901a\u8fc7\u521b\u5efa\u60a8\u7684\u7b2c\u4e00\u4e2a\u9875\u9762\u5f00\u59cb\u4f7f\u7528\u5e94\u7528\u8def\u7531\u5668\u3002</p>"},{"location":"app/#1-faq","title":"1. \u5e38\u89c1\u95ee\u9898\u89e3\u7b54\uff08FAQ\uff09","text":""},{"location":"app/#11","title":"1.1 \u5982\u4f55\u8bbf\u95ee\u5e03\u5c40\u4e2d\u7684\u8bf7\u6c42\u5bf9\u8c61\uff1f","text":""},{"location":"app/#12-url","title":"1.2 \u5982\u4f55\u8bbf\u95ee\u9875\u9762\u4e0a\u7684 URL\uff1f","text":""},{"location":"app/#13","title":"1.3 \u5982\u4f55\u4ece\u670d\u52a1\u7aef\u7ec4\u4ef6\u91cd\u5b9a\u5411\uff1f","text":""},{"location":"app/#14-app-router","title":"1.4 \u5982\u4f55\u4f7f\u7528 App Router \u5904\u7406\u8eab\u4efd\u9a8c\u8bc1\uff1f","text":""},{"location":"app/#15-cookies","title":"1.5 \u5982\u4f55\u8bbe\u7f6ecookies\uff1f","text":""},{"location":"app/#16","title":"1.6 \u5982\u4f55\u6784\u5efa\u591a\u79df\u6237\u5e94\u7528\u7a0b\u5e8f\uff1f","text":""},{"location":"app/#17-app-router","title":"1.7 \u5982\u4f55\u4f7f App Router \u7f13\u5b58\u5931\u6548\uff1f","text":""},{"location":"app/#18-app-router","title":"1.8 \u662f\u5426\u6709\u4efb\u4f55\u57fa\u4e8e App Router \u6784\u5efa\u7684\u5168\u9762\u7684\u5f00\u6e90\u5e94\u7528\u7a0b\u5e8f\uff1f","text":""},{"location":"app/#2","title":"2. \u4e86\u89e3\u66f4\u591a","text":"<ul> <li>\u8def\u7531\u57fa\u7840\u77e5\u8bc6</li> <li>\u6570\u636e\u83b7\u53d6\u548c\u7f13\u5b58</li> <li>\u589e\u91cf\u9759\u6001\u518d\u751f</li> <li>\u8868\u5355\u548c\u7a81\u53d8</li> <li>\u7f13\u5b58</li> <li>\u6e32\u67d3\u57fa\u7840\u77e5\u8bc6</li> <li>\u670d\u52a1\u7aef\u7ec4\u4ef6</li> <li>\u5ba2\u6237\u7aef\u7ec4\u4ef6</li> </ul>"},{"location":"app/building-your-application/caching/","title":"\u7f13\u5b58","text":"<p>Next.js \u901a\u8fc7\u7f13\u5b58\u6e32\u67d3\u5de5\u4f5c\u548c\u6570\u636e\u8bf7\u6c42\u6765\u63d0\u9ad8\u5e94\u7528\u7a0b\u5e8f\u7684\u6027\u80fd\u5e76\u964d\u4f4e\u6210\u672c\u3002\u672c\u9875\u9762\u6df1\u5165\u4ecb\u7ecd\u4e86 Next.js \u7f13\u5b58\u673a\u5236\u3001\u53ef\u7528\u4e8e\u914d\u7f6e\u5b83\u4eec\u7684 API \u4ee5\u53ca\u5b83\u4eec\u5982\u4f55\u76f8\u4e92\u4ea4\u4e92\u3002</p> <p>\u8865\u5145</p> <p>\u503c\u5f97\u4e00\u63d0\u7684\u662f\uff0c\u6b64\u9875\u9762\u53ef\u5e2e\u52a9\u6211\u4eec\u4e86\u89e3 Next.js \u5e95\u5c42\u7684\u5de5\u4f5c\u539f\u7406\uff0c\u4f46\u5e76\u4e0d\u662f\u9ad8\u6548\u4f7f\u7528 Next.js \u7684\u5fc5\u8981\u77e5\u8bc6\u3002\u5927\u591a\u6570 Next.js \u7684\u7f13\u5b58\u89e6\u53d1\u662f\u7531\u6211\u4eec\u4f7f\u7528 API \u65b9\u6cd5\u51b3\u5b9a\uff0c\u5e76\u4e14\u5177\u6709\u9ed8\u8ba4\u503c\uff0c\u53ef\u901a\u8fc7\u6700\u5c11\u7684\u914d\u7f6e\u83b7\u5f97\u6700\u4f73\u6027\u80fd\u3002</p>"},{"location":"app/building-your-application/caching/#1","title":"1. \u6982\u8ff0","text":"<p>\u4ee5\u4e0b\u662f\u4e0d\u540c\u7f13\u5b58\u673a\u5236\u53ca\u5176\u7528\u9014\u7684\u9ad8\u7ea7\u6982\u8ff0\uff1a</p> \u673a\u5236 \u529f\u80fd \u4f5c\u7528\u7aef \u76ee\u7684 \u751f\u547d\u5468\u671f \u8bf7\u6c42\u7f13\u5b58 \u8fd4\u56de\u51fd\u6570\u503c \u670d\u52a1\u7aef \u590d\u7528 React \u7ec4\u4ef6\u6811\u4e2d\u7684\u6570\u636e \u6bcf\u4e2a\u8bf7\u6c42\u7684\u751f\u547d\u5468\u671f \u6570\u636e\u7f13\u5b58 \u6570\u636e \u670d\u52a1\u7aef \u8de8\u7528\u6237\u8bf7\u6c42\u548c\u90e8\u7f72\u7684\u7f13\u5b58\u6570\u636e \u6301\u4e45\uff08\u53ef\u4ee5\u91cd\u65b0\u9a8c\u8bc1\uff09 \u5168\u8def\u7531\u7f13\u5b58 HTML \u548c RSC \u6709\u6548\u8d1f\u8f7d \u670d\u52a1\u7aef \u964d\u4f4e\u6e32\u67d3\u6210\u672c\u5e76\u63d0\u9ad8\u6027\u80fd \u6301\u4e45\uff08\u53ef\u4ee5\u91cd\u65b0\u9a8c\u8bc1\uff09 \u8def\u7531\u7f13\u5b58 RSC \u6709\u6548\u8d1f\u8f7d \u5ba2\u6237\u7aef \u51cf\u5c11\u5bfc\u822a\u65f6\u7684\u670d\u52a1\u7aef\u8bf7\u6c42 \u7528\u6237\u4f1a\u8bdd\u6216\u57fa\u4e8e\u65f6\u95f4 <p>\u9ed8\u8ba4\u60c5\u51b5\u4e0b\uff0cNext.js \u4f1a\u5c3d\u53ef\u80fd\u591a\u5730\u7f13\u5b58\u4ee5\u63d0\u9ad8\u6027\u80fd\u5e76\u964d\u4f4e\u6210\u672c\uff0c\u8fd9\u610f\u5473\u7740\u9664\u975e\u6211\u4eec\u9009\u62e9\u9000\u51fa\uff0c\u5426\u5219\u8def\u7531\u5c06\u88ab\u9759\u6001\u5448\u73b0\u5e76\u4e14\u6570\u636e\u8bf7\u6c42\u5c06\u88ab\u7f13\u5b58\u3002\u4e0b\u56fe\u663e\u793a\u4e86\u9ed8\u8ba4\u7684\u7f13\u5b58\u884c\u4e3a\uff1a\u5728\u6784\u5efa\u65f6\u9759\u6001\u6e32\u67d3\u8def\u7531\u65f6\u4ee5\u53ca\u9996\u6b21\u8bbf\u95ee\u9759\u6001\u8def\u7531\u65f6\u3002</p> <p></p> <p>\u7f13\u5b58\u884c\u4e3a\u4f1a\u5177\u4f53\u53d6\u51b3\u4e8e\u8def\u7ebf\u662f\u9759\u6001\u8fd8\u662f\u52a8\u6001\u5448\u73b0\u3001\u6570\u636e\u662f\u7f13\u5b58\u8fd8\u662f\u672a\u7f13\u5b58\uff0c\u4ee5\u53ca\u8bf7\u6c42\u662f\u521d\u59cb\u8bbf\u95ee\u8fd8\u662f\u540e\u7eed\u5bfc\u822a\u7684\u4e00\u90e8\u5206\u800c\u53d1\u751f\u53d8\u5316\u3002\u6839\u636e\u60a8\u7684\u4f7f\u7528\u6848\u4f8b\uff0c\u6211\u4eec\u53ef\u4ee5\u4e3a\u5404\u4e2a\u8def\u7531\u548c\u6570\u636e\u8bf7\u6c42\u914d\u7f6e\u7f13\u5b58\u884c\u4e3a\u3002</p>"},{"location":"app/building-your-application/caching/#2","title":"2. \u8bf7\u6c42\u8bb0\u5fc6","text":"<p>React \u6269\u5c55\u4e86 <code>fetch</code> API \u4ee5\u81ea\u52a8\u8bb0\u4f4f\u5177\u6709\u76f8\u540c URL \u548c\u9009\u9879\u7684\u8bf7\u6c42\uff0c\u8fd9\u610f\u5473\u7740\u6211\u4eec\u53ef\u4ee5\u5728 React \u7ec4\u4ef6\u6811\u4e2d\u7684\u591a\u4e2a\u4f4d\u7f6e\u8c03\u7528\u76f8\u540c\u6570\u636e\u7684\u83b7\u53d6\u51fd\u6570\uff0c\u800c\u53ea\u9700\u6267\u884c\u4e00\u6b21\u3002</p> <p></p> <p>\u4f8b\u5982\uff0c\u5982\u679c\u6211\u4eec\u9700\u8981\u8de8\u8def\u7531\uff08\u4f8b\u5982\u5728\u5e03\u5c40\u3001\u9875\u9762\u548c\u591a\u4e2a\u7ec4\u4ef6\u4e2d\uff09\u4f7f\u7528\u76f8\u540c\u7684\u6570\u636e\uff0c\u5219\u4e0d\u5fc5\u5728\u6811\u7684\u9876\u90e8\u83b7\u53d6\u6570\u636e\uff0c\u5e76\u5728\u7ec4\u4ef6\u4e4b\u95f4\u8f6c\u53d1 props\u3002\u76f8\u53cd\uff0c\u6211\u4eec\u53ef\u4ee5\u5728\u9700\u8981\u7684\u7ec4\u4ef6\u4e2d\u83b7\u53d6\u6570\u636e\uff0c\u800c\u4e0d\u5fc5\u62c5\u5fc3\u901a\u8fc7\u7f51\u7edc\u5bf9\u540c\u4e00\u6570\u636e\u53d1\u51fa\u591a\u4e2a\u8bf7\u6c42\u5bf9\u6027\u80fd\u7684\u5f71\u54cd\u3002</p> app/example.tsx<pre><code>async function getItem() {\n  // The `fetch` function is automatically memoized and the result is cached\n  const res = await fetch('https://.../item/1')\n  return res.json()\n}\n\n// This function is called twice, but only executed the first time\nconst item = await getItem() // cache MISS\n\n// The second call could be anywhere in your route\nconst item = await getItem() // cache HIT\n</code></pre> \u8bf7\u6c42\u8bb0\u5fc6\u7684\u5de5\u4f5c\u673a\u5236 <p></p> <ul> <li>\u5728\u6e32\u67d3\u8def\u7531\u65f6\uff0c\u7b2c\u4e00\u6b21\u8c03\u7528\u7279\u5b9a\u8bf7\u6c42\u65f6\uff0c\u5176\u7ed3\u679c\u4e0d\u4f1a\u5728\u5185\u5b58\u4e2d\uff0c\u800c\u662f\u7f13\u5b58 <code>MISS</code>\u3002</li> <li>\u56e0\u6b64\u8be5\u51fd\u6570\u5c06\u88ab\u6267\u884c\uff0c\u5e76\u4e14\u5c06\u4ece\u5916\u90e8\u6e90\u83b7\u53d6\u6570\u636e\uff0c\u5e76\u5c06\u7ed3\u679c\u5b58\u50a8\u5728\u5185\u5b58\u4e2d\u3002</li> <li>\u540c\u4e00\u6e32\u67d3\u901a\u9053\u4e2d\u8bf7\u6c42\u7684\u540e\u7eed\u51fd\u6570\u8c03\u7528\u5c06\u662f\u7f13\u5b58\u547d\u4e2d\uff0c\u6570\u636e\u5c06\u4ece\u5185\u5b58\u4e2d\u8fd4\u56de\uff0c\u800c\u4e0d\u6267\u884c\u8be5\u51fd\u6570\u3002</li> <li>\u4e00\u65e6\u8def\u7531\u88ab\u6e32\u67d3\u5e76\u4e14\u6e32\u67d3\u8fc7\u7a0b\u5b8c\u6210\uff0c\u5185\u5b58\u5c31\u4f1a\u88ab\u201c\u91cd\u7f6e\u201d\uff0c\u5e76\u4e14\u6240\u6709\u8bf7\u6c42\u8bb0\u5f55\u90fd\u4f1a\u88ab\u6e05\u9664\u3002</li> </ul> <p>\u8865\u5145</p> <ul> <li>\u8bf7\u6c42\u8bb0\u5fc6\u662f\u4e00\u9879 React \u529f\u80fd\uff0c\u800c\u4e0d\u662f Next.js \u529f\u80fd\u3002\u5305\u542b\u5728\u8fd9\u91cc\u662f\u4e3a\u4e86\u5c55\u793a\u5b83\u5982\u4f55\u4e0e\u5176\u4ed6\u7f13\u5b58\u673a\u5236\u4ea4\u4e92\u3002</li> <li>\u8bf7\u6c42\u8bb0\u5fc6\u4ec5\u9002\u7528\u4e8e\u83b7\u53d6\u8bf7\u6c42\u4e2d\u7684 <code>GET</code> \u65b9\u6cd5\u3002</li> <li>\u8bf7\u6c42\u8bb0\u5fc6\u53ea\u4f5c\u7528\u57df React \u7ec4\u4ef6\u6811\u4e2d\uff0c\u8fd9\u610f\u5473\u7740\uff1a</li> <li>\u5b83\u9002\u7528\u4e8e <code>generateMetadata</code>\u3001<code>generateStaticParams</code>\u3001\u5e03\u5c40\u3001\u9875\u9762\u548c\u5176\u4ed6\u670d\u52a1\u5668\u7ec4\u4ef6\u4e2d\u7684 <code>fetch</code> \u8bf7\u6c42\u3002</li> <li>\u5b83\u4e0d\u9002\u7528\u4e8e\u8def\u7531\u5904\u7406\u7a0b\u5e8f\u4e2d\u7684 <code>fetch</code> \u8bf7\u6c42\uff0c\u56e0\u4e3a\u5b83\u4eec\u4e0d\u662f React \u7ec4\u4ef6\u6811\u7684\u4e00\u90e8\u5206\u3002</li> <li>\u5bf9\u4e8e\u4e0d\u9002\u5408 <code>fetch</code> \u7684\u60c5\u51b5\uff08\u4f8b\u5982\u67d0\u4e9b\u6570\u636e\u5e93\u5ba2\u6237\u7aef\u3001CMS \u5ba2\u6237\u7aef\u6216 GraphQL \u5ba2\u6237\u7aef\uff09\uff0c\u6211\u4eec\u53ef\u4ee5\u4f7f\u7528 React \u7f13\u5b58\u529f\u80fd\u6765\u8bb0\u5fc6\u51fd\u6570\u3002</li> </ul>"},{"location":"app/building-your-application/caching/#21","title":"2.1 \u5468\u671f","text":"<p>\u7f13\u5b58\u4f1a\u6301\u7eed\u5230\u670d\u52a1\u5668\u8bf7\u6c42\u7684\u751f\u547d\u5468\u671f\uff0c\u76f4\u5230 React \u7ec4\u4ef6\u6811\u5b8c\u6210\u6e32\u67d3\u3002</p>"},{"location":"app/building-your-application/caching/#22","title":"2.2 \u91cd\u65b0\u9a8c\u8bc1","text":"<p>\u7531\u4e8e\u8bb0\u5fc6\u4e0d\u4f1a\u5728\u670d\u52a1\u5668\u8bf7\u6c42\u4e4b\u95f4\u5171\u4eab\uff0c\u5e76\u4e14\u4ec5\u5728\u6e32\u67d3\u671f\u95f4\u5e94\u7528\uff0c\u56e0\u6b64\u65e0\u9700\u91cd\u65b0\u9a8c\u8bc1\u5b83\u3002</p>"},{"location":"app/building-your-application/caching/#23","title":"2.3 \u9009\u62e9\u9000\u51fa","text":"<p>\u8bb0\u5fc6\u4ec5\u9002\u7528\u4e8e\u83b7\u53d6\u8bf7\u6c42\u4e2d\u7684 <code>GET</code> \u65b9\u6cd5\uff0c\u5176\u4ed6\u65b9\u6cd5\uff08\u4f8b\u5982 <code>POST</code> \u548c <code>DELETE</code>\uff09\u4e0d\u4f1a\u88ab\u8bb0\u5fc6\uff0c\u6b64\u9ed8\u8ba4\u884c\u4e3a\u662f React \u4f18\u5316\uff0c\u6211\u4eec\u4e0d\u5efa\u8bae\u9009\u62e9\u9000\u51fa\u3002</p> <p>\u8981\u7ba1\u7406\u5355\u4e2a\u8bf7\u6c42\uff0c\u60a8\u53ef\u4ee5\u4f7f\u7528 <code>AbortController</code> \u4e2d\u7684 <code>signal</code> \u5c5e\u6027\u3002\u7136\u800c\uff0c\u8fd9\u4e0d\u4f1a\u9009\u62e9\u4e0d\u8bb0\u5fc6\u8bf7\u6c42\uff0c\u800c\u662f\u4e2d\u6b62\u6b63\u5728\u8fdb\u884c\u7684\u8bf7\u6c42\u3002</p> app/example.js<pre><code>const { signal } = new AbortController()\nfetch(url, { signal })\n</code></pre>"},{"location":"app/building-your-application/caching/#3","title":"3. \u6570\u636e\u7f13\u5b58","text":"<p>Next.js \u6709\u4e00\u4e2a\u5185\u7f6e\u7684\u6570\u636e\u7f13\u5b58\uff0c\u53ef\u4ee5\u5728\u4f20\u5165\u7684\u670d\u52a1\u5668\u8bf7\u6c42\u548c\u90e8\u7f72\u4e2d\u4fdd\u7559\u6570\u636e\u83b7\u53d6\u7684\u7ed3\u679c\u3002\u8fd9\u662f\u53ef\u80fd\u7684\uff0c\u56e0\u4e3a Next.js \u6269\u5c55\u4e86\u539f\u751f <code>fetch</code> API\uff0c\u5141\u8bb8\u670d\u52a1\u5668\u4e0a\u7684\u6bcf\u4e2a\u8bf7\u6c42\u8bbe\u7f6e\u81ea\u5df1\u7684\u6301\u4e45\u7f13\u5b58\u8bed\u4e49\u3002</p> <p>\u8865\u5145</p> <p>\u503c\u5f97\u6ce8\u610f\u7684\u662f\uff0c\u5728\u6d4f\u89c8\u5668\u4e2d <code>fetch</code> \u7684 <code>cache</code> \u9009\u9879\u6307\u793a\u8bf7\u6c42\u5982\u4f55\u4e0e\u6d4f\u89c8\u5668\u7684 HTTP \u7f13\u5b58\u4ea4\u4e92\uff0c\u5728 Next.js \u4e2d\uff0c<code>cache</code> \u9009\u9879\u6307\u793a\u670d\u52a1\u5668\u7aef\u8bf7\u6c42\u5982\u4f55\u4e0e\u670d\u52a1\u5668\u7684\u6570\u636e\u7f13\u5b58\u4ea4\u4e92\u3002</p> <p>\u6211\u4eec\u53ef\u4ee5\u4f7f\u7528 <code>fetch</code> \u7684 <code>cache</code> \u548c <code>next.revalidate</code> \u9009\u9879\u6765\u914d\u7f6e\u7f13\u5b58\u884c\u4e3a\u3002</p> \u6570\u636e\u7f13\u5b58\u7684\u5de5\u4f5c\u539f\u7406 <p></p> <ul> <li>\u6e32\u67d3\u671f\u95f4\u7b2c\u4e00\u6b21\u8c03\u7528\u5e26\u6709 <code>force-cache</code> \u9009\u9879\u7684\u63d0\u53d6\u8bf7\u6c42\u65f6\uff0cNext.js \u4f1a\u68c0\u67e5\u6570\u636e\u7f13\u5b58\u4e2d\u662f\u5426\u6709\u7f13\u5b58\u7684\u54cd\u5e94\u3002</li> <li>\u5982\u679c\u627e\u5230\u5339\u914d\u7684\u7f13\u5b58\u54cd\u5e94\uff0c\u5219\u4f1a\u7acb\u5373\u8fd4\u56de\u5e76\u4fdd\u5b58\u3002</li> <li>\u5982\u679c\u672a\u627e\u5230\u5339\u914d\u7684\u7f13\u5b58\u54cd\u5e94\uff0c\u5219\u4f1a\u5411\u6570\u636e\u6e90\u53d1\u51fa\u8bf7\u6c42\uff0c\u5c06\u7ed3\u679c\u5b58\u50a8\u5728\u6570\u636e\u7f13\u5b58\u4e2d\u5e76\u8fdb\u884c\u8bb0\u5fc6\u3002</li> <li>\u5bf9\u4e8e\u672a\u7f13\u5b58\u7684\u6570\u636e\uff08\u4f8b\u5982\uff0c\u672a\u5b9a\u4e49\u7f13\u5b58\u9009\u9879\u6216\u4f7f\u7528 <code>{cache: 'no-store'}</code>\uff09\uff0c\u59cb\u7ec8\u4ece\u6570\u636e\u6e90\u83b7\u53d6\u7ed3\u679c\u5e76\u8fdb\u884c\u8bb0\u5fc6\u3002</li> <li>\u65e0\u8bba\u6570\u636e\u662f\u7f13\u5b58\u8fd8\u662f\u672a\u7f13\u5b58\uff0c\u8bf7\u6c42\u59cb\u7ec8\u4f1a\u88ab\u8bb0\u5fc6\uff0c\u4ee5\u907f\u514d\u5728 React \u6e32\u67d3\u8fc7\u7a0b\u4e2d\u5bf9\u76f8\u540c\u6570\u636e\u53d1\u51fa\u91cd\u590d\u8bf7\u6c42\u3002</li> </ul> <p>\u6570\u636e\u7f13\u5b58\u4e0e\u8bf7\u6c42\u8bb0\u5fc6\u7684\u533a\u522b</p> <p>\u867d\u7136\u8fd9\u4e24\u79cd\u7f13\u5b58\u673a\u5236\u90fd\u6709\u52a9\u4e8e\u901a\u8fc7\u91cd\u7528\u7f13\u5b58\u6570\u636e\u6765\u63d0\u9ad8\u6027\u80fd\uff0c\u4f46\u6570\u636e\u7f13\u5b58\u5728\u4f20\u5165\u8bf7\u6c42\u548c\u90e8\u7f72\u4e2d\u662f\u6301\u4e45\u7684\uff0c\u800c\u8bb0\u5fc6\u4ec5\u6301\u7eed\u8bf7\u6c42\u7684\u751f\u547d\u5468\u671f\u3002</p>"},{"location":"app/building-your-application/caching/#31","title":"3.1 \u5468\u671f","text":"<p>\u9664\u975e\u60a8\u91cd\u65b0\u9a8c\u8bc1\u6216\u9009\u62e9\u9000\u51fa\uff0c\u5426\u5219\u6570\u636e\u7f13\u5b58\u5728\u4f20\u5165\u8bf7\u6c42\u548c\u90e8\u7f72\u4e2d\u4fdd\u6301\u4e0d\u53d8\u3002</p>"},{"location":"app/building-your-application/caching/#32","title":"3.2 \u91cd\u65b0\u9a8c\u8bc1","text":"<p>\u7531\u4e8e\u8bb0\u5fc6\u4e0d\u4f1a\u5728\u670d\u52a1\u5668\u8bf7\u6c42\u4e4b\u95f4\u5171\u4eab\uff0c\u5e76\u4e14\u4ec5\u5728\u6e32\u67d3\u671f\u95f4\u5e94\u7528\uff0c\u56e0\u6b64\u65e0\u9700\u91cd\u65b0\u9a8c\u8bc1\u5b83\u3002</p> <ul> <li>\u57fa\u4e8e\u65f6\u95f4\u7684\u91cd\u65b0\u9a8c\u8bc1\uff1a\u7ecf\u8fc7\u4e00\u5b9a\u65f6\u95f4\u5e76\u53d1\u51fa\u65b0\u8bf7\u6c42\u540e\u91cd\u65b0\u9a8c\u8bc1\u6570\u636e\uff0c\u8fd9\u5bf9\u4e8e\u4e0d\u7ecf\u5e38\u66f4\u6539\u4e14\u5373\u65f6\u6027\u4e0d\u90a3\u4e48\u91cd\u8981\u7684\u6570\u636e\u5f88\u6709\u7528\u3002</li> <li>\u6309\u9700\u91cd\u65b0\u9a8c\u8bc1\uff1a\u6839\u636e\u4e8b\u4ef6\uff08\u4f8b\u5982\u8868\u5355\u63d0\u4ea4\uff09\u91cd\u65b0\u9a8c\u8bc1\u6570\u636e\u3002\u6309\u9700\u91cd\u65b0\u9a8c\u8bc1\u53ef\u4ee5\u4f7f\u7528\u57fa\u4e8e\u6807\u7b7e\u6216\u57fa\u4e8e\u8def\u5f84\u7684\u65b9\u6cd5\u7acb\u5373\u91cd\u65b0\u9a8c\u8bc1\u6570\u636e\u7ec4\uff0c\u5f53\u60a8\u60f3\u8981\u786e\u4fdd\u5c3d\u5feb\u663e\u793a\u6700\u65b0\u6570\u636e\u65f6\uff08\u4f8b\u5982\uff0c\u5f53\u66f4\u65b0\u65e0\u5934 CMS \u7684\u5185\u5bb9\u65f6\uff09\uff0c\u8fd9\u975e\u5e38\u6709\u7528\u3002</li> </ul>"},{"location":"app/building-your-application/caching/#1_1","title":"1. \u57fa\u4e8e\u65f6\u95f4\u7684\u91cd\u65b0\u9a8c\u8bc1","text":"<p>\u8981\u5b9a\u671f\u91cd\u65b0\u9a8c\u8bc1\u6570\u636e\uff0c\u53ef\u4ee5\u4f7f\u7528 <code>fetch</code> \u7684 <code>next.revalidate</code> \u9009\u9879\u6765\u8bbe\u7f6e\u8d44\u6e90\u7684\u7f13\u5b58\u751f\u547d\u5468\u671f\uff08\u4ee5\u79d2\u4e3a\u5355\u4f4d\uff09\u3002</p> <pre><code>// Revalidate at most every hour\nfetch('https://...', { next: { revalidate: 3600 } })\n</code></pre> <p>\u6216\u8005\uff0c\u6211\u4eec\u53ef\u4ee5\u4f7f\u7528\u8def\u7531\u6bb5\u914d\u7f6e\u9009\u9879\u6765\u914d\u7f6e\u6bb5\u4e2d\u7684\u6240\u6709 <code>fetch</code> \u8bf7\u6c42\uff0c\u6216\u8005\u5728\u6211\u4eec\u65e0\u6cd5\u4f7f\u7528 <code>fetch</code> \u7684\u60c5\u51b5\u4e0b\u914d\u7f6e\u3002</p> \u57fa\u4e8e\u65f6\u95f4\u7684\u6570\u636e\u9a8c\u8bc1\u7684\u5de5\u4f5c\u539f\u7406 <p></p> <ul> <li>\u7b2c\u4e00\u6b21\u8c03\u7528\u5e26\u6709 <code>revalidate</code> \u7684\u83b7\u53d6\u8bf7\u6c42\u65f6\uff0c\u5c06\u4ece\u5916\u90e8\u6570\u636e\u6e90\u83b7\u53d6\u6570\u636e\u5e76\u5c06\u5176\u5b58\u50a8\u5728\u6570\u636e\u7f13\u5b58\u4e2d\u3002</li> <li>\u5728\u6307\u5b9a\u65f6\u95f4\u8303\u56f4\uff08\u4f8b\u5982 60 \u79d2\uff09\u5185\u8c03\u7528\u7684\u4efb\u4f55\u8bf7\u6c42\u90fd\u5c06\u8fd4\u56de\u7f13\u5b58\u7684\u6570\u636e\u3002</li> <li>\u5728\u8be5\u65f6\u95f4\u8303\u56f4\u4e4b\u540e\uff0c\u4e0b\u4e00\u4e2a\u8bf7\u6c42\u4ecd\u5c06\u8fd4\u56de\u7f13\u5b58\u7684\uff08\u73b0\u5df2\u8fc7\u65f6\uff09\u6570\u636e\u3002</li> <li>Next.js \u5c06\u5728\u540e\u53f0\u89e6\u53d1\u6570\u636e\u7684\u91cd\u65b0\u9a8c\u8bc1\u3002</li> <li>\u6210\u529f\u83b7\u53d6\u6570\u636e\u540e\uff0cNext.js \u5c06\u4f7f\u7528\u65b0\u6570\u636e\u66f4\u65b0\u6570\u636e\u7f13\u5b58\u3002</li> <li>\u5982\u679c\u540e\u53f0\u91cd\u65b0\u9a8c\u8bc1\u5931\u8d25\uff0c\u4e4b\u524d\u7684\u6570\u636e\u5c06\u4fdd\u6301\u4e0d\u53d8\u3002</li> </ul> <p>\u8fd9\u7c7b\u4f3c\u4e8e stale-while-revalidate \u884c\u4e3a\u3002</p>"},{"location":"app/building-your-application/caching/#2_1","title":"2. \u6309\u9700\u91cd\u65b0\u9a8c\u8bc1","text":"<p>\u6570\u636e\u53ef\u4ee5\u6839\u636e\u8def\u5f84 (revalidatePath) \u6216\u7f13\u5b58\u6807\u8bb0 (revalidateTag) \u6309\u9700\u91cd\u65b0\u9a8c\u8bc1\u3002</p> \u6309\u9700\u6570\u636e\u9a8c\u8bc1\u7684\u5de5\u4f5c\u539f\u7406 <p></p> <ul> <li>\u7b2c\u4e00\u6b21\u8c03\u7528\u83b7\u53d6\u8bf7\u6c42\u65f6\uff0c\u5c06\u4ece\u5916\u90e8\u6570\u636e\u6e90\u83b7\u53d6\u6570\u636e\u5e76\u5c06\u5176\u5b58\u50a8\u5728\u6570\u636e\u7f13\u5b58\u4e2d\u3002</li> <li>\u5f53\u89e6\u53d1\u6309\u9700\u91cd\u65b0\u9a8c\u8bc1\u65f6\uff0c\u5c06\u4ece\u7f13\u5b58\u4e2d\u6e05\u9664\u76f8\u5e94\u7684\u7f13\u5b58\u8bb0\u5f55\u3002<ul> <li>\u8fd9\u4e0e\u57fa\u4e8e\u65f6\u95f4\u7684\u91cd\u65b0\u9a8c\u8bc1\u4e0d\u540c\uff0c\u57fa\u4e8e\u65f6\u95f4\u7684\u91cd\u65b0\u9a8c\u8bc1\u5c06\u9648\u65e7\u6570\u636e\u4fdd\u7559\u5728\u7f13\u5b58\u4e2d\uff0c\u76f4\u5230\u83b7\u53d6\u65b0\u6570\u636e\u3002</li> </ul> </li> <li>\u4e0b\u6b21\u8bf7\u6c42\u65f6\uff0c\u53c8\u662f\u4e00\u6b21\u7f13\u5b58 <code>MISS</code>\uff0c\u4ece\u5916\u90e8\u6570\u636e\u6e90\u53d6\u6570\u636e\uff0c\u5b58\u5165\u7f13\u5b58\u6570\u636e\u4e2d\u3002</li> </ul>"},{"location":"app/building-your-application/caching/#33","title":"3.3 \u9009\u62e9\u9000\u51fa","text":"<p>\u5982\u679c\u60a8\u4e0d\u60f3\u7f13\u5b58 <code>fetch</code> \u7684\u54cd\u5e94\uff0c\u53ef\u4ee5\u6267\u884c\u4ee5\u4e0b\u64cd\u4f5c\uff1a</p> <pre><code>let data = await fetch('https://api.vercel.app/blog', { cache: 'no-store' })\n</code></pre>"},{"location":"app/building-your-application/caching/#4","title":"4. \u5168\u8def\u7531\u7f13\u5b58","text":"<p>\u76f8\u5173\u672f\u8bed</p> <p>\u6211\u4eec\u53ef\u80fd\u4f1a\u770b\u5230\u672f\u8bed\u201c\u81ea\u52a8\u9759\u6001\u4f18\u5316\u201d\u3001\u201c\u9759\u6001\u7ad9\u70b9\u751f\u6210\u201d\u6216\u201c\u9759\u6001\u6e32\u67d3\u201d\u53ef\u4e92\u6362\u4f7f\u7528\uff0c\u6307\u7684\u662f\u5e94\u7528\u7a0b\u5e8f\u5728\u6784\u5efa\u65f6\u7684\u6e32\u67d3\u548c\u7f13\u5b58\u8def\u7531\u7684\u8fc7\u7a0b\u3002</p> <p>Next.js \u5728\u6784\u5efa\u65f6\u81ea\u52a8\u6e32\u67d3\u548c\u7f13\u5b58\u8def\u7531\uff0c\u8fd9\u662f\u4e00\u9879\u4f18\u5316\uff0c\u5141\u8bb8\u6211\u4eec\u4e3a\u6bcf\u4e2a\u8bf7\u6c42\u63d0\u4f9b\u7f13\u5b58\u7684\u8def\u7531\uff0c\u800c\u4e0d\u662f\u5728\u670d\u52a1\u5668\u4e0a\u6e32\u67d3\uff0c\u4ece\u800c\u52a0\u5feb\u9875\u9762\u52a0\u8f7d\u901f\u5ea6\u3002</p> <p>\u8981\u4e86\u89e3\u5b8c\u6574\u8def\u7531\u7f13\u5b58\u7684\u5de5\u4f5c\u539f\u7406\uff0c\u4e86\u89e3 React \u5982\u4f55\u5904\u7406\u6e32\u67d3\u4ee5\u53ca Next.js \u5982\u4f55\u7f13\u5b58\u7ed3\u679c\u4f1a\u5f88\u6709\u5e2e\u52a9\u3002</p>"},{"location":"app/building-your-application/caching/#41-react","title":"4.1 \u670d\u52a1\u7aef\u7684 React \u6e32\u67d3","text":"<p>\u5728\u670d\u52a1\u5668\u4e0a\uff0cNext.js \u4f7f\u7528 React \u7684 API \u6765\u7f16\u6392\u6e32\u67d3\u3002\u6e32\u67d3\u5de5\u4f5c\u88ab\u5206\u6210\u591a\u4e2a\u5757\uff1a\u6309\u5355\u72ec\u7684\u8def\u7531\u6bb5\u548c\u5ef6\u8fdf\u8fb9\u754c\u3002\u6bcf\u4e2a\u5757\u90fd\u5206\u4e24\u6b65\u6e32\u67d3\uff1a</p> <ol> <li>React \u5c06\u670d\u52a1\u5668\u7ec4\u4ef6\u5448\u73b0\u4e3a\u4e00\u79cd\u7279\u6b8a\u7684\u6570\u636e\u683c\u5f0f\uff0c\u9488\u5bf9\u6d41\u8fdb\u884c\u4e86\u4f18\u5316\uff0c\u79f0\u4e3a\u201cReact \u670d\u52a1\u7aef\u7ec4\u4ef6\u6709\u6548\u8d1f\u8f7d\u201d\u3002</li> <li>Next.js \u4f7f\u7528 React \u670d\u52a1\u7aef\u7ec4\u4ef6\u6709\u6548\u8d1f\u8f7d\u548c\u5ba2\u6237\u7aef\u7ec4\u4ef6 JavaScript \u6307\u4ee4\u5728\u670d\u52a1\u7aef\u4e0a\u5448\u73b0 HTML\u3002</li> </ol> <p>\u8fd9\u610f\u5473\u7740\u6211\u4eec\u4e0d\u5fc5\u7b49\u5f85\u6240\u6709\u5185\u5bb9\u90fd\u6e32\u67d3\u5b8c\u6bd5\u624d\u80fd\u7f13\u5b58\u5de5\u4f5c\u6216\u53d1\u9001\u54cd\u5e94\u3002\u76f8\u53cd\uff0c\u6211\u4eec\u53ef\u4ee5\u5728\u5de5\u4f5c\u5b8c\u6210\u65f6\u6d41\u5f0f\u4f20\u8f93\u54cd\u5e94\u3002</p> \u4ec0\u4e48\u662f React \u670d\u52a1\u5668\u7ec4\u4ef6\u6709\u6548\u8d1f\u8f7d\uff1f <p>React \u670d\u52a1\u7aef\u7ec4\u4ef6\u6709\u6548\u8d1f\u8f7d\u662f\u6e32\u67d3\u7684 React \u670d\u52a1\u7aef\u7ec4\u4ef6\u6811\u7684\u7d27\u51d1\u4e8c\u8fdb\u5236\u8868\u793a\u3002\u5ba2\u6237\u7aef\u4e0a\u7684 React \u4f7f\u7528\u5b83\u6765\u66f4\u65b0\u6d4f\u89c8\u5668\u7684 DOM\u3002 React \u670d\u52a1\u5668\u7ec4\u4ef6\u6709\u6548\u8d1f\u8f7d\u5305\u542b\uff1a</p> <ul> <li>\u670d\u52a1\u7aef\u7ec4\u4ef6\u7684\u6e32\u67d3\u7ed3\u679c</li> <li>\u5ba2\u6237\u7aef\u7ec4\u4ef6\u5e94\u5448\u73b0\u7684\u4f4d\u7f6e\u7684\u5360\u4f4d\u7b26\u4ee5\u53ca\u5bf9\u5176 JavaScript \u6587\u4ef6\u7684\u5f15\u7528</li> <li>\u4ece\u670d\u52a1\u5668\u7ec4\u4ef6\u4f20\u9012\u5230\u5ba2\u6237\u7aef\u7ec4\u4ef6\u7684\u4efb\u4f55\u9053\u5177</li> </ul> <p>\u8981\u4e86\u89e3\u66f4\u591a\u4fe1\u606f\uff0c\u8bf7\u53c2\u9605\u670d\u52a1\u5668\u7ec4\u4ef6\u6587\u6863\u3002</p>"},{"location":"app/building-your-application/caching/#42-nextjs","title":"4.2 \u670d\u52a1\u7aef\u7684 Next.js \u7f13\u5b58\uff08\u5168\u8def\u7531\u7f13\u5b58\uff09","text":"<p>Next.js \u7684\u9ed8\u8ba4\u884c\u4e3a\u662f\u5728\u670d\u52a1\u5668\u4e0a\u7f13\u5b58\u8def\u7531\u7684\u6e32\u67d3\u7ed3\u679c\uff08React \u670d\u52a1\u7aef\u7ec4\u4ef6\u8d1f\u8f7d\u548c HTML\uff09\uff0c\u8fd9\u9002\u7528\u4e8e\u6784\u5efa\u65f6\u6216\u91cd\u65b0\u9a8c\u8bc1\u671f\u95f4\u9759\u6001\u6e32\u67d3\u7684\u8def\u7531\u3002</p>"},{"location":"app/building-your-application/caching/#43-react","title":"4.3 \u5ba2\u6237\u7aef\u7684 React \u6ce8\u6c34\u548c\u534f\u8c03","text":"<p>\u5728\u8bf7\u6c42\u65f6\uff0c\u5728\u5ba2\u6237\u7aef\u4e0a\uff1a</p> <ol> <li>HTML \u7528\u4e8e\u7acb\u5373\u663e\u793a\u5ba2\u6237\u7aef\u548c\u670d\u52a1\u5668\u7ec4\u4ef6\u7684\u5feb\u901f\u975e\u4ea4\u4e92\u5f0f\u521d\u59cb\u9884\u89c8\u3002</li> <li>React \u670d\u52a1\u7aef\u7ec4\u4ef6\u6709\u6548\u8d1f\u8f7d\u7528\u4e8e\u534f\u8c03\u5ba2\u6237\u7aef\u548c\u6e32\u67d3\u7684\u670d\u52a1\u7aef\u7ec4\u4ef6\u6811\uff0c\u5e76\u66f4\u65b0 DOM\u3002</li> <li>JavaScript \u6307\u4ee4\u7528\u4e8e\u8865\u5145\u5ba2\u6237\u7aef\u7ec4\u4ef6\u5e76\u4f7f\u5e94\u7528\u7a0b\u5e8f\u5177\u6709\u4ea4\u4e92\u6027\u3002</li> </ol>"},{"location":"app/building-your-application/caching/#44-nextjs","title":"4.4 \u5ba2\u6237\u7aef\u7684 Next.js \u7f13\u5b58\uff08\u8def\u7531\u7f13\u5b58\uff09","text":"<p>React \u670d\u52a1\u7aef\u7ec4\u4ef6\u6709\u6548\u8d1f\u8f7d\u5b58\u50a8\u5728\u5ba2\u6237\u7aef\u8def\u7531\u5668\u7f13\u5b58\u4e2d\uff08\u4e00\u4e2a\u5355\u72ec\u7684\u5185\u5b58\u7f13\u5b58\uff0c\u7531\u5404\u4e2a\u8def\u7531\u6bb5\u5206\u5272\uff09\uff0c\u8be5\u8def\u7531\u5668\u7f13\u5b58\u7528\u4e8e\u901a\u8fc7\u5b58\u50a8\u4ee5\u524d\u8bbf\u95ee\u8fc7\u7684\u8def\u7531\u5e76\u9884\u53d6\u672a\u6765\u7684\u8def\u7ebf\u6765\u6539\u5584\u5bfc\u822a\u4f53\u9a8c\u3002</p>"},{"location":"app/building-your-application/caching/#45","title":"4.5 \u540e\u7eed\u5bfc\u822a","text":"<p>\u5728\u540e\u7eed\u5bfc\u822a\u6216\u9884\u53d6\u671f\u95f4\uff0cNext.js \u5c06\u68c0\u67e5 React \u670d\u52a1\u7aef\u7ec4\u4ef6\u6709\u6548\u8d1f\u8f7d\u662f\u5426\u5b58\u50a8\u5728\u8def\u7531\u5668\u7f13\u5b58\u4e2d\u3002\u5982\u679c\u662f\u8fd9\u6837\uff0c\u5b83\u5c06\u8df3\u8fc7\u5411\u670d\u52a1\u7aef\u53d1\u9001\u65b0\u8bf7\u6c42\u3002</p> <p>\u5982\u679c\u8def\u7531\u6bb5\u4e0d\u5728\u7f13\u5b58\u4e2d\uff0cNext.js \u5c06\u4ece\u670d\u52a1\u5668\u83b7\u53d6 React \u670d\u52a1\u7aef\u7ec4\u4ef6\u6709\u6548\u8d1f\u8f7d\uff0c\u5e76\u586b\u5145\u5ba2\u6237\u7aef\u4e0a\u7684\u8def\u7531\u5668\u7f13\u5b58\u3002</p>"},{"location":"app/building-your-application/caching/#46","title":"4.6 \u9759\u6001\u548c\u52a8\u6001\u6e32\u67d3","text":"<p>\u8def\u7531\u5728\u6784\u5efa\u65f6\u662f\u5426\u88ab\u7f13\u5b58\u53d6\u51b3\u4e8e\u5b83\u662f\u9759\u6001\u6e32\u67d3\u8fd8\u662f\u52a8\u6001\u6e32\u67d3\u3002\u9ed8\u8ba4\u60c5\u51b5\u4e0b\u4f1a\u7f13\u5b58\u9759\u6001\u8def\u7531\uff0c\u800c\u52a8\u6001\u8def\u7531\u4f1a\u5728\u8bf7\u6c42\u65f6\u5448\u73b0\uff0c\u5e76\u4e14\u4e0d\u4f1a\u88ab\u7f13\u5b58\u3002\u4e0b\u56fe\u663e\u793a\u4e86\u9759\u6001\u548c\u52a8\u6001\u6e32\u67d3\u7684\u8def\u7531\u4e4b\u95f4\u7684\u5dee\u5f02\uff0c\u4ee5\u53ca\u7f13\u5b58\u548c\u672a\u7f13\u5b58\u7684\u6570\u636e\uff1a</p> <p></p>"},{"location":"app/building-your-application/caching/#47","title":"4.7 \u671f\u95f4","text":"<p>\u9ed8\u8ba4\u60c5\u51b5\u4e0b\uff0c\u5b8c\u6574\u8def\u7531\u7f13\u5b58\u662f\u6301\u4e45\u7684\u3002\u8fd9\u610f\u5473\u7740\u6e32\u67d3\u8f93\u51fa\u4f1a\u8de8\u7528\u6237\u8bf7\u6c42\u8fdb\u884c\u7f13\u5b58\u3002</p>"},{"location":"app/building-your-application/caching/#48","title":"4.8 \u5931\u6548","text":"<p>\u6709\u4e24\u79cd\u65b9\u6cd5\u53ef\u4ee5\u4f7f\u5b8c\u6574\u8def\u7531\u7f13\u5b58\u5931\u6548\uff1a</p> <ul> <li>\u91cd\u65b0\u9a8c\u8bc1\u6570\u636e:</li> <li>\u91cd\u65b0\u90e8\u7f72\uff1a\u4e0e\u8de8\u90e8\u7f72\u6301\u7eed\u5b58\u5728\u7684\u6570\u636e\u7f13\u5b58\u4e0d\u540c\uff0c\u5b8c\u6574\u8def\u7531\u7f13\u5b58\u5728\u65b0\u90e8\u7f72\u4e2d\u4f1a\u88ab\u6e05\u9664\u3002</li> </ul>"},{"location":"app/building-your-application/caching/#49","title":"4.9 \u9009\u62e9\u9000\u51fa","text":"<p>\u6211\u4eec\u53ef\u4ee5\u9009\u62e9\u9000\u51fa\u5b8c\u6574\u8def\u7531\u7f13\u5b58\uff0c\u6216\u8005\u6362\u53e5\u8bdd\u8bf4\uff0c\u4e3a\u6bcf\u4e2a\u4f20\u5165\u8bf7\u6c42\u52a8\u6001\u6e32\u67d3\u7ec4\u4ef6\uff0c\u65b9\u6cd5\u662f\uff1a</p> <ul> <li>\u4f7f\u7528\u52a8\u6001API\uff1a\u8fd9\u5c06\u4ece\u5b8c\u6574\u8def\u7531\u7f13\u5b58\u4e2d\u9009\u62e9\u8def\u7531\u5e76\u5728\u8bf7\u6c42\u65f6\u52a8\u6001\u5448\u73b0\u5b83\u3002\u6570\u636e\u7f13\u5b58\u4ecd\u7136\u53ef\u4ee5\u4f7f\u7528\u3002</li> <li>\u4f7f\u7528 <code>dynamic='force-dynamic'</code> \u6216 <code>revalidate=0</code> \u8def\u7531\u6bb5\u914d\u7f6e\u9009\u9879\uff1a\u8fd9\u5c06\u8df3\u8fc7\u5b8c\u6574\u8def\u7531\u7f13\u5b58\u548c\u6570\u636e\u7f13\u5b58\uff0c\u610f\u5473\u7740\u5c06\u5728\u6bcf\u6b21\u4f20\u5165\u670d\u52a1\u5668\u7684\u8bf7\u6c42\u65f6\u5448\u73b0\u7ec4\u4ef6\u5e76\u83b7\u53d6\u6570\u636e\u3002\u8def\u7531\u5668\u7f13\u5b58\u4ecd\u7136\u9002\u7528\uff0c\u56e0\u4e3a\u5b83\u662f\u5ba2\u6237\u7aef\u7f13\u5b58\u3002</li> <li>\u9009\u62e9\u9000\u51fa\u6570\u636e\u7f13\u5b58\uff1a\u5982\u679c\u8def\u7531\u6709\u672a\u7f13\u5b58\u7684 <code>fetch</code> \u8bf7\u6c42\uff0c\u5219\u4f1a\u9009\u62e9\u8be5\u8def\u7531\u9000\u51fa\u5b8c\u6574\u8def\u7531\u7f13\u5b58\u3002\u5c06\u4e3a\u6bcf\u4e2a\u4f20\u5165\u8bf7\u6c42\u83b7\u53d6\u7279\u5b9a\u83b7\u53d6\u8bf7\u6c42\u7684\u6570\u636e\u3002\u5176\u4ed6\u672a\u9009\u62e9\u9000\u51fa\u7f13\u5b58\u7684 <code>fetch</code> \u8bf7\u6c42\u4ecd\u5c06\u7f13\u5b58\u5728\u6570\u636e\u7f13\u5b58\u4e2d\u3002\u8fd9\u5141\u8bb8\u7f13\u5b58\u548c\u672a\u7f13\u5b58\u6570\u636e\u7684\u6df7\u5408\u3002</li> </ul>"},{"location":"app/building-your-application/caching/#5","title":"5. \u5ba2\u6237\u7aef\u8def\u7531\u7f13\u5b58","text":"<p>Next.js \u6709\u4e00\u4e2a\u5185\u5b58\u5ba2\u6237\u7aef\u8def\u7531\u5668\u7f13\u5b58\uff0c\u7528\u4e8e\u5b58\u50a8\u8def\u7531\u6bb5\u7684 RSC \u6709\u6548\u8d1f\u8f7d\uff0c\u6309\u5e03\u5c40\u3001\u52a0\u8f7d\u72b6\u6001\u548c\u9875\u9762\u5212\u5206\u3002</p> <p>\u5f53\u7528\u6237\u5728\u8def\u7531\u4e4b\u95f4\u5bfc\u822a\u65f6\uff0cNext.js \u4f1a\u7f13\u5b58\u8bbf\u95ee\u8fc7\u7684\u8def\u7ebf\u6bb5\u5e76\u9884\u53d6\u7528\u6237\u53ef\u80fd\u5bfc\u822a\u5230\u7684\u8def\u7ebf\u3002\u8fd9\u4f1a\u5bfc\u81f4\u5373\u65f6\u540e\u9000/\u524d\u8fdb\u5bfc\u822a\uff0c\u5bfc\u822a\u4e4b\u95f4\u65e0\u9700\u91cd\u65b0\u52a0\u8f7d\u6574\u9875\uff0c\u5e76\u4fdd\u7559 React \u72b6\u6001\u548c\u6d4f\u89c8\u5668\u72b6\u6001\u3002</p> <p>\u4f7f\u7528\u8def\u7531\u5668\u7f13\u5b58\uff1a</p> <ul> <li>\u5e03\u5c40\u88ab\u7f13\u5b58\u5e76\u5728\u5bfc\u822a\u4e0a\u91cd\u7528\uff08\u90e8\u5206\u6e32\u67d3\uff09\u3002</li> <li>\u52a0\u8f7d\u72b6\u6001\u88ab\u7f13\u5b58\u5e76\u5728\u5bfc\u822a\u4e0a\u91cd\u7528\u4ee5\u5b9e\u73b0\u5373\u65f6\u5bfc\u822a\u3002</li> <li>\u9ed8\u8ba4\u60c5\u51b5\u4e0b\uff0c\u9875\u9762\u4e0d\u4f1a\u88ab\u7f13\u5b58\uff0c\u4f46\u4f1a\u5728\u6d4f\u89c8\u5668\u5411\u540e\u548c\u5411\u524d\u5bfc\u822a\u671f\u95f4\u91cd\u590d\u4f7f\u7528\u3002\u60a8\u53ef\u4ee5\u4f7f\u7528\u5b9e\u9a8c\u6027 <code>staleTimes</code> \u914d\u7f6e\u9009\u9879\u542f\u7528\u9875\u9762\u6bb5\u7f13\u5b58\u3002</li> </ul> <p>\u8865\u5145</p> <p>\u503c\u5f97\u6ce8\u610f\u7684\u662f\uff1a\u6b64\u7f13\u5b58\u4e13\u95e8\u9002\u7528\u4e8e Next.js \u548c\u670d\u52a1\u7aef\u7ec4\u4ef6\uff0c\u4e0e\u6d4f\u89c8\u5668\u7684 <code>bfcache</code> \u4e0d\u540c\uff0c\u5c3d\u7ba1\u5b83\u5177\u6709\u7c7b\u4f3c\u7684\u7ed3\u679c\u3002</p>"},{"location":"app/building-your-application/caching/#51","title":"5.1 \u671f\u95f4","text":"<p>\u7f13\u5b58\u5b58\u50a8\u5728\u6d4f\u89c8\u5668\u7684\u4e34\u65f6\u5185\u5b58\u4e2d\uff0c\u6709\u4e24\u4e2a\u56e0\u7d20\u51b3\u5b9a\u8def\u7531\u5668\u7f13\u5b58\u7684\u6301\u7eed\u65f6\u95f4\uff1a</p> <ul> <li>\u4f1a\u8bdd\uff1a\u7f13\u5b58\u5728\u6574\u4e2a\u5bfc\u822a\u8fc7\u7a0b\u4e2d\u6301\u7eed\u5b58\u5728\uff0c\u4f46\u662f\u5b83\u4f1a\u5728\u9875\u9762\u5237\u65b0\u65f6\u88ab\u6e05\u9664\u3002</li> <li>\u81ea\u52a8\u5931\u6548\u671f\uff1a\u5e03\u5c40\u548c\u52a0\u8f7d\u72b6\u6001\u7684\u7f13\u5b58\u5728\u7279\u5b9a\u65f6\u95f4\u540e\u81ea\u52a8\u5931\u6548\uff0c\u6301\u7eed\u65f6\u95f4\u53d6\u51b3\u4e8e\u8d44\u6e90\u7684\u9884\u53d6\u65b9\u5f0f\u4ee5\u53ca\u8d44\u6e90\u662f\u5426\u9759\u6001\u751f\u6210\uff1a</li> <li>\u9ed8\u8ba4\u9884\u53d6\uff08<code>prefetch={null}</code> \u6216\u672a\u6307\u5b9a\uff09\uff1a\u52a8\u6001\u9875\u9762\u4e0d\u7f13\u5b58\uff0c\u9759\u6001\u9875\u9762 5 \u5206\u949f\u3002</li> <li>\u5b8c\u5168\u9884\u53d6\uff08<code>prefetch={true}</code> \u6216 <code>router.prefetch</code>\uff09\uff1a\u9759\u6001\u9875\u9762\u548c\u52a8\u6001\u9875\u9762\u5747\u4e3a 5 \u5206\u949f\u3002</li> </ul> <p>\u867d\u7136\u9875\u9762\u5237\u65b0\u5c06\u6e05\u9664\u6240\u6709\u7f13\u5b58\u7684\u8def\u7531\u6bb5\uff0c\u4f46\u81ea\u52a8\u5931\u6548\u671f\u4ec5\u5f71\u54cd\u9884\u53d6\u540e\u7684\u5404\u4e2a\u6bb5\u3002</p> <p>\u8865\u5145</p> <p>\u5b9e\u9a8c\u6027 <code>staleTimes</code> \u914d\u7f6e\u9009\u9879\u53ef\u7528\u4e8e\u8c03\u6574\u4e0a\u8ff0\u81ea\u52a8\u5931\u6548\u65f6\u95f4\u3002</p>"},{"location":"app/building-your-application/caching/#52","title":"5.2 \u5931\u6548","text":"<p>\u6709\u4e24\u79cd\u65b9\u6cd5\u53ef\u4ee5\u4f7f\u8def\u7531\u5668\u7f13\u5b58\u5931\u6548\uff1a</p> <ul> <li>\u670d\u52a1\u7aef\u52a8\u4f5c\uff1a</li> <li>\u901a\u8fc7 (<code>revalidatePath</code>) \u8def\u5f84\u6216\u901a\u8fc7 (<code>revalidateTag</code>) \u7f13\u5b58\u6807\u8bb0\u6309\u9700\u91cd\u65b0\u9a8c\u8bc1\u6570\u636e\u3002</li> <li>\u4f7f\u7528 <code>cookies.set</code> \u6216 <code>cookies.delete</code> \u4f1a\u4f7f\u8def\u7531\u5668\u7f13\u5b58\u5931\u6548\uff0c\u4ee5\u9632\u6b62\u4f7f\u7528 cookie \u7684\u8def\u7531\u53d8\u5f97\u8fc7\u65f6\uff08\u4f8b\u5982\u8eab\u4efd\u9a8c\u8bc1\uff09\u3002</li> <li>\u8c03\u7528 <code>router.refresh</code> \u5c06\u4f7f\u8def\u7531\u7f13\u5b58\u5931\u6548\uff0c\u5e76\u5411\u670d\u52a1\u7aef\u53d1\u51fa\u5f53\u524d\u8def\u7531\u7684\u65b0\u8bf7\u6c42\u3002</li> </ul>"},{"location":"app/building-your-application/caching/#53","title":"5.3 \u9009\u62e9\u9000\u51fa","text":"<p>\u4ece Next.js 15 \u5f00\u59cb\uff0c\u9ed8\u8ba4\u60c5\u51b5\u4e0b\u4f1a\u9009\u62e9\u9000\u51fa\u9875\u9762\u6bb5\u3002</p> <p>\u8865\u5145</p> <p>\u60a8\u8fd8\u53ef\u4ee5\u901a\u8fc7\u5c06 <code>&lt;Link&gt;</code> \u7ec4\u4ef6\u7684 <code>prefetch</code> \u5c5e\u6027\u8bbe\u7f6e\u4e3a <code>false</code> \u6765\u9009\u62e9\u9000\u51fa\u9884\u53d6\u3002</p>"},{"location":"app/building-your-application/caching/#6","title":"6. \u7f13\u5b58\u4ea4\u4e92","text":"<p>\u914d\u7f6e\u4e0d\u540c\u7684\u7f13\u5b58\u673a\u5236\u65f6\uff0c\u4e86\u89e3\u5b83\u4eec\u5982\u4f55\u76f8\u4e92\u4f5c\u7528\u975e\u5e38\u91cd\u8981\uff1a</p>"},{"location":"app/building-your-application/caching/#61","title":"6.1 \u6570\u636e\u7f13\u5b58\u548c\u5168\u8def\u7531\u7f13\u5b58","text":"<ul> <li>\u91cd\u65b0\u9a8c\u8bc1\u6216\u9009\u62e9\u9000\u51fa\u6570\u636e\u7f13\u5b58\u5c06\u4f7f\u5b8c\u6574\u8def\u7531\u7f13\u5b58\u65e0\u6548\uff0c\u56e0\u4e3a\u6e32\u67d3\u8f93\u51fa\u53d6\u51b3\u4e8e\u6570\u636e\u3002</li> <li>\u4f7f\u5b8c\u6574\u8def\u7531\u7f13\u5b58\u5931\u6548\u6216\u9009\u62e9\u9000\u51fa\u4e0d\u4f1a\u5f71\u54cd\u6570\u636e\u7f13\u5b58\u3002\u6211\u4eec\u53ef\u4ee5\u52a8\u6001\u6e32\u67d3\u5177\u6709\u7f13\u5b58\u548c\u672a\u7f13\u5b58\u6570\u636e\u7684\u8def\u7531\u3002\u5f53\u6211\u4eec\u7684\u5927\u90e8\u5206\u9875\u9762\u4f7f\u7528\u7f13\u5b58\u6570\u636e\uff0c\u4f46\u4f9d\u7136\u6709\u4e00\u4e9b\u7ec4\u4ef6\u4f9d\u8d56\u4e8e\u9700\u8981\u5728\u8bf7\u6c42\u65f6\u83b7\u53d6\u7684\u6570\u636e\u65f6\uff0c\u8fd9\u975e\u5e38\u6709\u7528\u3002\u60a8\u53ef\u4ee5\u52a8\u6001\u6e32\u67d3\uff0c\u800c\u4e0d\u5fc5\u62c5\u5fc3\u91cd\u65b0\u83b7\u53d6\u6240\u6709\u6570\u636e\u5bf9\u6027\u80fd\u7684\u5f71\u54cd\u3002</li> </ul>"},{"location":"app/building-your-application/caching/#62","title":"6.2 \u6570\u636e\u7f13\u5b58\u548c\u5ba2\u6237\u7aef\u8def\u7531\u5668\u7f13\u5b58","text":"<ul> <li> <p>\u8981\u7acb\u5373\u4f7f\u6570\u636e\u7f13\u5b58\u548c\u8def\u7531\u5668\u7f13\u5b58\u5931\u6548\uff0c\u6211\u4eec\u53ef\u4ee5\u5728\u670d\u52a1\u7aef\u64cd\u4f5c\u4e2d\u4f7f\u7528 <code>revalidatePath</code> \u6216 <code>revalidateTag</code>\u3002</p> </li> <li> <p>\u91cd\u65b0\u9a8c\u8bc1\u8def\u7531\u5904\u7406\u7a0b\u5e8f\u4e2d\u7684\u6570\u636e\u7f13\u5b58\u4e0d\u4f1a\u7acb\u5373\u4f7f\u8def\u7531\u5668\u7f13\u5b58\u5931\u6548\uff0c\u56e0\u4e3a\u8def\u7531\u5904\u7406\u7a0b\u5e8f\u672a\u7ed1\u5b9a\u5230\u7279\u5b9a\u8def\u7531\u3002\u8fd9\u610f\u5473\u7740\u8def\u7531\u5668\u7f13\u5b58\u5c06\u7ee7\u7eed\u63d0\u4f9b\u5148\u524d\u7684\u6709\u6548\u8d1f\u8f7d\uff0c\u76f4\u5230\u786c\u5237\u65b0\u6216\u81ea\u52a8\u5931\u6548\u671f\u7ed3\u675f\u3002 </p> </li> </ul>"},{"location":"app/building-your-application/caching/#7-api","title":"7. API","text":"<p>\u4e0b\u8868\u6982\u8ff0\u4e86\u4e0d\u540c\u7684 Next.js API \u5982\u4f55\u5f71\u54cd\u7f13\u5b58\uff1a</p> API \u8def\u7531\u5668\u7f13\u5b58 \u5168\u8def\u7531\u7f13\u5b58 \u6570\u636e\u7f13\u5b58 React\u7f13\u5b58 <code>&lt;Link prefetch&gt;</code> \u7f13\u5b58 <code>router.prefetch</code> \u7f13\u5b58 <code>router.refresh</code> \u91cd\u65b0\u9a8c\u8bc1 <code>fetch</code> \u7f13\u5b58 <code>fetch options.cache</code> \u7f13\u5b58\u6216\u9009\u62e9\u9000\u51fa <code>fetch options.next.revalidate</code> \u91cd\u65b0\u9a8c\u8bc1 \u91cd\u65b0\u9a8c\u8bc1 <code>fetch options.next.tags</code> \u7f13\u5b58 \u7f13\u5b58 <code>revalidateTag</code> \u91cd\u65b0\u9a8c\u8bc1\uff08\u670d\u52a1\u7aef\u64cd\u4f5c\uff09 \u91cd\u65b0\u9a8c\u8bc1 \u91cd\u65b0\u9a8c\u8bc1 <code>revalidatePath</code> \u91cd\u65b0\u9a8c\u8bc1\uff08\u670d\u52a1\u7aef\u64cd\u4f5c\uff09 \u91cd\u65b0\u9a8c\u8bc1 \u91cd\u65b0\u9a8c\u8bc1 <code>const revalidate</code> \u91cd\u65b0\u9a8c\u8bc1\u6216\u9009\u62e9\u9000\u51fa \u91cd\u65b0\u9a8c\u8bc1\u6216\u9009\u62e9\u9000\u51fa <code>const dynamic</code> \u7f13\u5b58\u6216\u9009\u62e9\u9000\u51fa \u7f13\u5b58\u6216\u9009\u62e9\u9000\u51fa <code>cookies</code> \u91cd\u65b0\u9a8c\u8bc1\uff08\u670d\u52a1\u7aef\u64cd\u4f5c\uff09 \u9009\u62e9\u9000\u51fa \u7f13\u5b58\u6216\u9009\u62e9\u9000\u51fa <code>headers</code>\u3001<code>searchParams</code> \u9009\u62e9\u9000\u51fa <code>generateStaticParams</code> \u9009\u62e9\u9000\u51fa <code>React.cache</code> \u7f13\u5b58 <code>unstable_cache</code> \u7f13\u5b58"},{"location":"app/building-your-application/caching/#71-link","title":"7.1 <code>&lt;Link&gt;</code>","text":"<p>\u9ed8\u8ba4\u60c5\u51b5\u4e0b\uff0c<code>&lt;Link&gt;</code> \u7ec4\u4ef6\u4f1a\u81ea\u52a8\u4ece\u5b8c\u6574\u8def\u7531\u7f13\u5b58\u4e2d\u9884\u53d6\u8def\u7531\uff0c\u5e76\u5c06 React \u670d\u52a1\u7aef\u7ec4\u4ef6\u6709\u6548\u8d1f\u8f7d\u6dfb\u52a0\u5230\u8def\u7531\u5668\u7f13\u5b58\u4e2d\u3002</p> <p>\u8981\u7981\u7528\u9884\u53d6\uff0c\u60a8\u53ef\u4ee5\u5c06 <code>prefetch</code> \u5c5e\u6027\u8bbe\u7f6e\u4e3a <code>false</code>\u3002\u4f46\u8fd9\u4e0d\u4f1a\u6c38\u4e45\u8df3\u8fc7\u7f13\u5b58\uff0c\u5f53\u7528\u6237\u8bbf\u95ee\u8be5\u8def\u7531\u65f6\uff0c\u8be5\u8def\u7531\u6bb5\u4ecd\u4f1a\u7f13\u5b58\u5728\u5ba2\u6237\u7aef\u3002</p>"},{"location":"app/building-your-application/caching/#72-routerprefetch","title":"7.2 <code>router.prefetch</code>","text":"<p><code>useRouter</code> \u94a9\u5b50\u7684 <code>prefetch</code> \u9009\u9879\u53ef\u7528\u4e8e\u624b\u52a8\u9884\u53d6\u8def\u7531\uff0c\u8fd9\u4f1a\u5c06 React \u670d\u52a1\u7aef\u7ec4\u4ef6\u6709\u6548\u8d1f\u8f7d\u6dfb\u52a0\u5230\u8def\u7531\u5668\u7f13\u5b58\u4e2d\u3002</p>"},{"location":"app/building-your-application/caching/#73-routerrefresh","title":"7.3 <code>router.refresh</code>","text":"<p><code>useRouter</code> \u94a9\u5b50\u7684 <code>refresh</code> \u9009\u9879\u53ef\u7528\u4e8e\u624b\u52a8\u5237\u65b0\u8def\u7531\uff0c\u8fd9\u5c06\u5b8c\u5168\u6e05\u9664\u8def\u7531\u5668\u7f13\u5b58\uff0c\u5e76\u5411\u670d\u52a1\u5668\u53d1\u51fa\u5f53\u524d\u8def\u7531\u7684\u65b0\u8bf7\u6c42\uff0c<code>refresh</code> \u4e0d\u4f1a\u5f71\u54cd\u6570\u636e\u6216\u5b8c\u6574\u8def\u7531\u7f13\u5b58\u3002</p> <p>\u6e32\u67d3\u7684\u7ed3\u679c\u5c06\u5728\u5ba2\u6237\u7aef\u4e0a\u8fdb\u884c\u534f\u8c03\uff0c\u540c\u65f6\u4fdd\u7559 React \u72b6\u6001\u548c\u6d4f\u89c8\u5668\u72b6\u6001\u3002</p>"},{"location":"app/building-your-application/caching/#74-fetch","title":"7.4 <code>fetch</code>","text":"<p>\u4ece <code>fetch</code> \u8fd4\u56de\u7684\u6570\u636e\u4f1a\u81ea\u52a8\u7f13\u5b58\u5728\u6570\u636e\u7f13\u5b58\u4e2d\uff0c\u5982\u679c\u60a8\u4e0d\u60f3\u7f13\u5b58 <code>fetch</code> \u7684\u54cd\u5e94\uff0c\u53ef\u4ee5\u6267\u884c\u4ee5\u4e0b\u64cd\u4f5c\uff1a</p> <pre><code>let data = await fetch('https://api.vercel.app/blog', { cache: 'no-store' })\n</code></pre>"},{"location":"app/building-your-application/caching/#75-fetchcache","title":"7.5 <code>fetch</code>\u7684<code>cache</code> \u53c2\u6570","text":"<p>\u6211\u4eec\u53ef\u4ee5\u901a\u8fc7\u5c06 <code>cache</code> \u9009\u9879\u8bbe\u7f6e\u4e3a <code>force-cache</code> \u6765\u9009\u62e9\u5c06\u5355\u72ec\u7684 <code>fetch</code> \u653e\u5165\u7f13\u5b58\uff1a</p> <pre><code>// Opt into caching\nfetch(`https://...`, { cache: 'force-cache' })\n</code></pre>"},{"location":"app/building-your-application/caching/#76-fetch-nextreavalidate","title":"7.6 <code>fetch</code> \u7684 <code>next.reavalidate</code> \u53c2\u6570","text":"<p>\u6211\u4eec\u53ef\u4ee5\u4f7f\u7528 <code>fetch</code> \u7684 <code>next.revalidate</code> \u9009\u9879\u6765\u8bbe\u7f6e\u5355\u4e2a <code>fetch</code> \u8bf7\u6c42\u7684\u91cd\u65b0\u9a8c\u8bc1\u5468\u671f\uff08\u4ee5\u79d2\u4e3a\u5355\u4f4d\uff09\u3002\u8fd9\u5c06\u91cd\u65b0\u9a8c\u8bc1\u6570\u636e\u7f13\u5b58\uff0c\u8fdb\u800c\u91cd\u65b0\u9a8c\u8bc1\u5b8c\u6574\u8def\u7531\u7f13\u5b58\u3002\u83b7\u53d6\u5230\u7684\u65b0\u6570\u636e\uff0c\u5e76\u4e14\u7ec4\u4ef6\u5c06\u5728\u670d\u52a1\u5668\u4e0a\u91cd\u65b0\u6e32\u67d3\u3002</p> <pre><code>// Revalidate at most after 1 hour\nfetch(`https://...`, { next: { revalidate: 3600 } })\n</code></pre>"},{"location":"app/building-your-application/caching/#77-fetch-nexttags-revalidatetag","title":"7.7 <code>fetch</code> \u7684 <code>next.tags</code> \u53c2\u6570\u4ee5\u53ca <code>revalidateTag</code>","text":"<p>Next.js \u6709\u4e00\u4e2a\u7f13\u5b58\u6807\u8bb0\u7cfb\u7edf\uff0c\u7528\u4e8e\u7ec6\u7c92\u5ea6\u6570\u636e\u7f13\u5b58\u548c\u91cd\u65b0\u9a8c\u8bc1\u3002</p> <ol> <li>\u4f7f\u7528 <code>fetch</code> \u6216 <code>unstable_cache</code> \u65f6\uff0c\u60a8\u53ef\u4ee5\u9009\u62e9\u4f7f\u7528\u4e00\u4e2a\u6216\u591a\u4e2a\u6807\u7b7e\u6765\u6807\u8bb0\u7f13\u5b58\u6761\u76ee\u3002</li> <li>\u7136\u540e\uff0c\u60a8\u53ef\u4ee5\u8c03\u7528 <code>revalidateTag</code> \u6765\u6e05\u9664\u4e0e\u8be5\u6807\u8bb0\u5173\u8054\u7684\u7f13\u5b58\u6761\u76ee\u3002</li> </ol> <p>\u4f8b\u5982\uff0c\u6211\u4eec\u53ef\u4ee5\u5728\u83b7\u53d6\u6570\u636e\u65f6\u8bbe\u7f6e\u6807\u7b7e\uff1a</p> <pre><code>// Cache data with a tag\nfetch(`https://...`, { next: { tags: ['a', 'b', 'c'] } })\n</code></pre> <p>\u7136\u540e\uff0c\u4f7f\u7528\u6807\u7b7e\u8c03\u7528 <code>revalidateTag</code> \u6765\u6e05\u9664\u7f13\u5b58\u6761\u76ee\uff1a</p> <pre><code>// Revalidate entries with a specific tag\nrevalidateTag('a')\n</code></pre> <p>\u6211\u4eec\u53ef\u4ee5\u5728\u4e24\u4e2a\u5730\u65b9\u4f7f\u7528 <code>revalidateTag</code>\uff0c\u5177\u4f53\u53d6\u51b3\u4e8e\u60f3\u8981\u5b9e\u73b0\u7684\u76ee\u6807\uff1a</p> <ol> <li>\u8def\u7531\u5904\u7406\u5668\uff1a\u91cd\u65b0\u9a8c\u8bc1\u6570\u636e\u4ee5\u54cd\u5e94\u7b2c\u4e09\u65b9\u4e8b\u4ef6\uff08\u4f8b\u5982 webhook\uff09\uff0c\u8fd9\u4e0d\u4f1a\u7acb\u5373\u4f7f\u8def\u7531\u5668\u7f13\u5b58\u5931\u6548\uff0c\u56e0\u4e3a\u8def\u7531\u5668\u5904\u7406\u7a0b\u5e8f\u672a\u7ed1\u5b9a\u5230\u7279\u5b9a\u8def\u7531\u3002</li> <li>\u670d\u52a1\u7aef\u64cd\u4f5c\uff1a\u5728\u7528\u6237\u64cd\u4f5c\uff08\u4f8b\u5982\u8868\u5355\u63d0\u4ea4\uff09\u540e\u91cd\u65b0\u9a8c\u8bc1\u6570\u636e\uff0c\u8fd9\u5c06\u4f7f\u5173\u8054\u8def\u7531\u7684\u8def\u7531\u5668\u7f13\u5b58\u5931\u6548\u3002</li> </ol>"},{"location":"app/building-your-application/caching/#78-revalidatepath","title":"7.8 <code>revalidatePath</code>","text":"<p><code>revalidatePath</code> \u5141\u8bb8\u60a8\u5728\u5355\u4e2a\u64cd\u4f5c\u4e2d\u624b\u52a8\u91cd\u65b0\u9a8c\u8bc1\u6570\u636e\u5e76\u91cd\u65b0\u6e32\u67d3\u7279\u5b9a\u8def\u5f84\u4e0b\u65b9\u7684\u8def\u7531\u6bb5\uff0c\u8c03\u7528 <code>revalidatePath</code> \u65b9\u6cd5\u4f1a\u91cd\u65b0\u9a8c\u8bc1\u6570\u636e\u7f13\u5b58\uff0c\u4ece\u800c\u4f7f\u5b8c\u6574\u8def\u7531\u7f13\u5b58\u5931\u6548\u3002</p> <pre><code>revalidatePath('/')\n</code></pre> <p>\u60a8\u53ef\u4ee5\u5728\u4e24\u4e2a\u5730\u65b9\u4f7f\u7528 <code>revalidatePath</code>\uff0c\u5177\u4f53\u53d6\u51b3\u4e8e\u60a8\u60f3\u8981\u5b9e\u73b0\u7684\u76ee\u6807\uff1a</p> <ol> <li>\u8def\u7531\u5904\u7406\u5668\uff1a\u91cd\u65b0\u9a8c\u8bc1\u6570\u636e\u4ee5\u54cd\u5e94\u7b2c\u4e09\u65b9\u4e8b\u4ef6\uff08\u4f8b\u5982 webhook\uff09\u3002</li> <li>\u670d\u52a1\u7aef\u64cd\u4f5c\uff1a\u5728\u7528\u6237\u4ea4\u4e92\uff08\u4f8b\u5982\u8868\u5355\u63d0\u4ea4\u3001\u6309\u94ae\u70b9\u51fb\uff09\u540e\u91cd\u65b0\u9a8c\u8bc1\u6570\u636e\u3002</li> </ol> <p>revalidatePath VS. router.refresh</p> <p>\u8c03\u7528 <code>router.refresh</code> \u5c06\u6e05\u9664\u8def\u7531\u5668\u7f13\u5b58\uff0c\u5e76\u5728\u670d\u52a1\u7aef\u91cd\u65b0\u6e32\u67d3\u8def\u7531\u6bb5\uff0c\u800c\u4e0d\u4f1a\u4f7f\u6570\u636e\u7f13\u5b58\u6216\u5b8c\u6574\u8def\u7531\u7f13\u5b58\u5931\u6548\u3002</p> <p>\u4e0d\u540c\u4e4b\u5904\u5728\u4e8e\uff0c<code>revalidatePath</code> \u4f1a\u6e05\u9664\u6570\u636e\u7f13\u5b58\u548c\u5b8c\u6574\u8def\u7531\u7f13\u5b58\uff0c\u800c <code>router.refresh()</code> \u4e0d\u4f1a\u66f4\u6539\u6570\u636e\u7f13\u5b58\u548c\u5b8c\u6574\u8def\u7531\u7f13\u5b58\uff0c\u56e0\u4e3a\u5b83\u662f\u5ba2\u6237\u7aef API\u3002</p>"},{"location":"app/building-your-application/caching/#79-api","title":"7.9 \u52a8\u6001API","text":"<p>\u52a8\u6001API\uff08\u5982 <code>cookie</code> \u548c <code>headers</code>\uff09\u4ee5\u53ca Pages \u4e2d\u7684 <code>searchParams</code> \u5c5e\u6027\u53d6\u51b3\u4e8e\u8fd0\u884c\u65f6\u4f20\u5165\u7684\u8bf7\u6c42\u4fe1\u606f\uff0c\u4f7f\u7528\u5b83\u4eec\u5c06\u4ece\u5b8c\u6574\u8def\u7531\u7f13\u5b58\u4e2d\u9009\u62e9\u4e00\u6761\u8def\u7531\uff0c\u6362\u53e5\u8bdd\u8bf4\uff0c\u8be5\u8def\u7531\u5c06\u88ab\u52a8\u6001\u6e32\u67d3\u3002</p>"},{"location":"app/building-your-application/caching/#791-cookies","title":"7.9.1 <code>cookies</code>","text":"<p>\u5728\u670d\u52a1\u7aef\u64cd\u4f5c\u4e2d\u4f7f\u7528 <code>cookies.set</code> \u6216 <code>cookies.delete</code> \u4f1a\u4f7f\u8def\u7531\u5668\u7f13\u5b58\u5931\u6548\uff0c\u4ee5\u9632\u6b62\u4f7f\u7528 <code>cookie</code> \u7684\u8def\u7531\u53d8\u5f97\u8fc7\u65f6\uff08\u4f8b\u5982\uff0c\u53cd\u6620\u8eab\u4efd\u9a8c\u8bc1\u66f4\u6539\uff09\u3002</p>"},{"location":"app/building-your-application/caching/#710","title":"7.10 \u8def\u7531\u6bb5\u914d\u9009\u9879","text":"<p>\u8def\u7531\u6bb5\u914d\u7f6e\u9009\u9879\u53ef\u7528\u4e8e\u8986\u76d6\u8def\u7ebf\u6bb5\u9ed8\u8ba4\u503c\uff0c\u6216\u8005\u5f53\u60a8\u65e0\u6cd5\u4f7f\u7528\u83b7\u53d6 API\uff08\u4f8b\u5982\u6570\u636e\u5e93\u5ba2\u6237\u7aef\u6216\u7b2c\u4e09\u65b9\u5e93\uff09\u65f6\u3002</p>"},{"location":"app/building-your-application/caching/#711-generatestaticparams","title":"7.11 generateStaticParams","text":"<p>\u5bf9\u4e8e\u52a8\u6001\u6bb5\uff08\u4f8b\u5982 <code>app/blog/[slug]/page.js</code>\uff09\uff0c<code>generateStaticParams</code> \u63d0\u4f9b\u7684\u8def\u5f84\u4f1a\u5728\u6784\u5efa\u65f6\u7f13\u5b58\u5728\u5b8c\u6574\u8def\u7531\u7f13\u5b58\u4e2d\u3002\u5728\u8bf7\u6c42\u65f6\uff0cNext.js \u8fd8\u5c06\u5728\u6784\u5efa\u65f6\u7b2c\u4e00\u6b21\u8bbf\u95ee\u7684\u672a\u77e5\u8def\u5f84\u8fdb\u884c\u7f13\u5b58\u3002</p> <p>\u8981\u5728\u6784\u5efa\u65f6\u9759\u6001\u6e32\u67d3\u6240\u6709\u8def\u5f84\uff0c\u8bf7\u5411 <code>generateStaticParams</code> \u63d0\u4f9b\u5b8c\u6574\u7684\u8def\u5f84\u5217\u8868\uff1a</p> app/blog/[slug]/page.js<pre><code>export async function generateStaticParams() {\n  const posts = await fetch('https://.../posts').then((res) =&gt; res.json())\n\n  return posts.map((post) =&gt; ({\n    slug: post.slug,\n  }))\n}\n</code></pre>"},{"location":"app/building-your-application/caching/#712-react-cache","title":"7.12 React <code>cache</code> \u51fd\u6570","text":"<p>React <code>cache</code> \u51fd\u6570\u5141\u8bb8\u6211\u4eec\u8bb0\u4f4f\u51fd\u6570\u7684\u8fd4\u56de\u503c\uff0c\u4e5f\u5141\u8bb8\u591a\u6b21\u8c03\u7528\u540c\u4e00\u4e2a\u51fd\u6570\uff0c\u800c\u53ea\u6267\u884c\u4e00\u6b21\u3002\u7531\u4e8e <code>fetch</code> \u8bf7\u6c42\u4f1a\u81ea\u52a8\u8bb0\u5fc6\uff0c\u56e0\u6b64\u4e0d\u9700\u8981\u5c06\u5176\u5305\u88c5\u5728 React <code>cache</code>\u3002\u4f46\u662f\uff0c\u5f53 <code>fetch</code> API \u4e0d\u9002\u7528\u65f6\uff0c\u6211\u4eec\u53ef\u4ee5\u4f7f\u7528 <code>cache</code> \u624b\u52a8\u8bb0\u5f55\u7528\u4f8b\u7684\u6570\u636e\u8bf7\u6c42\u3002\u4f8b\u5982\uff0c\u67d0\u4e9b\u6570\u636e\u5e93\u5ba2\u6237\u7aef\u3001CMS \u5ba2\u6237\u7aef\u6216 GraphQL \u5ba2\u6237\u7aef\u3002</p> utils/get-item.ts<pre><code>import { cache } from 'react'\nimport db from '@/lib/db'\n\nexport const getItem = cache(async (id: string) =&gt; {\n  const item = await db.item.findUnique({ id })\n  return item\n})\n</code></pre>"},{"location":"app/building-your-application/data-fetching/","title":"\u6570\u636e\u83b7\u53d6","text":"<ul> <li> <p> \u6570\u636e\u83b7\u53d6\u4e0e\u7f13\u5b58</p> <p>\u4e86\u89e3\u5728 Next.js \u4e2d\u6570\u636e\u7684\u83b7\u53d6\u4e0e\u7f13\u5b58</p> </li> <li> <p> \u6570\u636e\u83b7\u53d6\u3001\u7f13\u5b58\u4e0e\u91cd\u65b0\u9a8c\u8bc1</p> <p>\u4e86\u89e3\u5728 Next.js \u4e2d\u6570\u636e\u83b7\u53d6\u3001\u7f13\u5b58\u4e0e\u91cd\u65b0\u9a8c\u8bc1</p> </li> <li> <p> \u670d\u52a1\u7aef\u52a8\u4f5c\u4e0e\u53ef\u53d8\u6027</p> <p>\u4e86\u89e3\u5982\u4f55\u4f7f\u7528 Next.js \u5904\u7406\u63d0\u4ea4\u548c\u6570\u636e\u53ef\u53d8</p> </li> <li> <p> \u6570\u636e\u83b7\u53d6\u6a21\u5f0f\u4ee5\u53ca\u6700\u4f73\u5b9e\u8df5</p> <p>\u4e86\u89e3\u5728 React \u4ee5\u53ca Next.js \u4e2d\u6570\u636e\u83b7\u53d6\u6a21\u5f0f</p> </li> </ul>"},{"location":"app/building-your-application/data-fetching/fetching-and-caching/","title":"\u6570\u636e\u83b7\u53d6\u4e0e\u7f13\u5b58","text":"<p>\u793a\u4f8b</p> <ul> <li>Next.js Commerce</li> <li>On-Demand ISR</li> <li>Next.js Forms</li> </ul> <p>\u672c\u6307\u5357\u5c06\u5f15\u5bfc\u60a8\u4e86\u89e3 Next.js \u4e2d\u6570\u636e\u83b7\u53d6\u548c\u7f13\u5b58\u7684\u57fa\u7840\u77e5\u8bc6\uff0c\u5e76\u63d0\u4f9b\u771f\u5b9e\u793a\u4f8b\u548c\u6700\u4f73\u5b9e\u8df5\u3002</p> <p>\u4ee5\u4e0b\u662f Next.js \u4e2d\u6570\u636e\u83b7\u53d6\u7684\u6700\u5c0f\u793a\u4f8b\uff1a</p> app/page.tsx<pre><code>export default async function Page() {\n  let data = await fetch('https://api.vercel.app/blog')\n  let posts = await data.json()\n  return (\n    &lt;ul&gt;\n      {posts.map((post) =&gt; (\n        &lt;li key={post.id}&gt;{post.title}&lt;/li&gt;\n      ))}\n    &lt;/ul&gt;\n  )\n}\n</code></pre> <p>\u6b64\u793a\u4f8b\u6f14\u793a\u4e86\u5728\u5f02\u6b65 React \u670d\u52a1\u5668\u7ec4\u4ef6\u4e2d\u4f7f\u7528 <code>fetch</code> API \u8fdb\u884c\u57fa\u672c\u7684\u670d\u52a1\u7aef\u83b7\u53d6\u6570\u636e\u3002</p>"},{"location":"app/building-your-application/data-fetching/fetching-and-caching/#1","title":"1. \u53c2\u8003","text":"<ul> <li><code>fetch</code></li> <li>React cache</li> <li>Next.js unstable_cache</li> </ul>"},{"location":"app/building-your-application/data-fetching/fetching-and-caching/#2","title":"2. \u793a\u4f8b","text":""},{"location":"app/building-your-application/data-fetching/fetching-and-caching/#21-fetch-api","title":"2.1 \u4f7f\u7528 <code>fetch</code> API \u5728\u670d\u52a1\u5668\u4e0a\u83b7\u53d6\u6570\u636e","text":"<p>\u8be5\u7ec4\u4ef6\u5c06\u83b7\u53d6\u5e76\u663e\u793a\u535a\u5ba2\u6587\u7ae0\u5217\u8868\uff0c\u901a\u8fc7 <code>fetch</code> \u83b7\u53d6\u7684\u54cd\u5e94\u5c06\u88ab\u81ea\u52a8\u7f13\u5b58\u3002</p> app/page.tsx<pre><code>export default async function Page() {\n  let data = await fetch('https://api.vercel.app/blog')\n  let posts = await data.json()\n  return (\n    &lt;ul&gt;\n      {posts.map((post) =&gt; (\n        &lt;li key={post.id}&gt;{post.title}&lt;/li&gt;\n      ))}\n    &lt;/ul&gt;\n  )\n}\n</code></pre> <p>\u5982\u679c\u60a8\u5728\u6b64\u8def\u7531\u4e2d\u7684\u5176\u4ed6\u4efb\u4f55\u5730\u65b9\u90fd\u6ca1\u6709\u4f7f\u7528\u4efb\u4f55 \u52a8\u6001API\uff0c\u5219\u5c06\u5728\u4f7f\u7528 <code>next build</code> \u6784\u5efa\u9759\u6001\u9875\u9762\u65f6\u8fdb\u884c\u9884\u6e32\u67d3\uff0c\u7136\u540e\u53ef\u4ee5\u4f7f\u7528\u589e\u91cf\u9759\u6001\u518d\u751f\u6765\u66f4\u65b0\u6570\u636e\u3002</p> <p>\u5982\u679c\u60a8\u4e0d\u60f3\u7f13\u5b58 <code>fetch</code> \u7684\u54cd\u5e94\uff0c\u53ef\u4ee5\u6267\u884c\u4ee5\u4e0b\u64cd\u4f5c\uff1a</p> <pre><code>let data = await fetch('https://api.vercel.app/blog', { cache: 'no-store' })\n</code></pre>"},{"location":"app/building-your-application/data-fetching/fetching-and-caching/#22-orm","title":"2.2 \u4f7f\u7528 ORM \u6216\u6570\u636e\u5e93\u5728\u670d\u52a1\u7aef\u4e0a\u83b7\u53d6\u6570\u636e","text":"<p>\u8be5\u7ec4\u4ef6\u5c06\u83b7\u53d6\u5e76\u663e\u793a\u535a\u5ba2\u6587\u7ae0\u5217\u8868\uff0c\u9ed8\u8ba4\u60c5\u51b5\u4e0b\u4e0d\u4f1a\u7f13\u5b58\u6765\u81ea\u6570\u636e\u5e93\u7684\u54cd\u5e94\uff0c\u4f46\u53ef\u4ee5\u901a\u8fc7\u5176\u4ed6\u914d\u7f6e\u8fdb\u884c\u7f13\u5b58\u3002</p> app/page.tsx<pre><code>import { db, posts } from '@/lib/db';\n\nexport default async function Page() {\n  let allPosts = await db.select().from(posts)\n  return (\n    &lt;ul&gt;\n      {allPosts.map((post) =&gt; (\n        &lt;li key={post.id}&gt;{post.title}&lt;/li&gt;\n      ))}\n    &lt;/ul&gt;\n  )\n}\n</code></pre> <p>\u5982\u679c\u60a8\u5728\u6b64\u8def\u7531\u4e2d\u7684\u5176\u4ed6\u4efb\u4f55\u5730\u65b9\u90fd\u6ca1\u6709\u4f7f\u7528\u4efb\u4f55 \u52a8\u6001API\uff0c\u5219\u5c06\u5728\u4f7f\u7528 <code>next build</code> \u6784\u5efa\u9759\u6001\u9875\u9762\u65f6\u8fdb\u884c\u9884\u6e32\u67d3\uff0c\u7136\u540e\u53ef\u4ee5\u4f7f\u7528\u589e\u91cf\u9759\u6001\u518d\u751f\u6765\u66f4\u65b0\u6570\u636e\u3002</p> <p>\u8981\u9632\u6b62\u9875\u9762\u9884\u6e32\u67d3\uff0c\u60a8\u53ef\u4ee5\u5c06\u4ee5\u4e0b\u5185\u5bb9\u6dfb\u52a0\u5230\u6587\u4ef6\u4e2d\uff1a</p> <pre><code>export const dynamic = 'force-dynamic'\n</code></pre> <p>\u4f46\u662f\uff0c\u901a\u5e38\u4f1a\u4f7f\u7528 <code>cookie</code>\u3001<code>headers</code> \u6216\u4ece\u9875\u9762 <code>props</code> \u8bfb\u53d6\u4f20\u5165\u7684 <code>searchParams</code> \u7b49\u529f\u80fd\uff0c\u8fd9\u5c06\u81ea\u52a8\u4f7f\u5f97\u9875\u9762\u52a8\u6001\u5448\u73b0\u3002\u5728\u8fd9\u79cd\u60c5\u51b5\u4e0b\uff0c\u6211\u4eec\u4e0d\u9700\u8981\u663e\u5f0f\u4f7f\u7528 <code>force-dynamic</code>\u3002</p>"},{"location":"app/building-your-application/data-fetching/fetching-and-caching/#23","title":"2.3 \u5728\u5ba2\u6237\u7aef\u83b7\u53d6\u6570\u636e","text":"<p>\u6211\u4eec\u5efa\u8bae\u9996\u5148\u5c1d\u8bd5\u5728\u670d\u52a1\u5668\u7aef\u83b7\u53d6\u6570\u636e\uff0c\u7136\u800c\u5728\u67d0\u4e9b\u60c5\u51b5\u4e0b\uff0c\u5ba2\u6237\u7aef\u6570\u636e\u83b7\u53d6\u4ecd\u7136\u6709\u610f\u4e49\u3002\u5728\u8fd9\u4e9b\u573a\u666f\u4e2d\uff0c\u60a8\u53ef\u4ee5\u5728 <code>useEffect</code> \u4e2d\u624b\u52a8\u8c03\u7528 <code>fetch</code> \uff08\u4e0d\u63a8\u8350\uff09\uff0c\u6216\u8005\u4f9d\u9760\u793e\u533a\u4e2d\u6d41\u884c\u7684 React \u5e93\uff08\u4f8b\u5982 SWR \u6216 React Query\uff09\u8fdb\u884c\u5ba2\u6237\u7aef\u83b7\u53d6\u3002</p> app/page.tsx<pre><code>'use client';\n\nimport { useState, useEffect } from 'react';\n\nexport function Posts() {\n  const [posts, setPosts] = useState(null)\n\n  useEffect(() =&gt; {\n    async function fetchPosts() {\n      let res = await fetch('https://api.vercel.app/blog')\n      let data = await res.json()\n      setPosts(data)\n    }\n    fetchPosts()\n  }, [])\n\n  if (!posts) return &lt;div&gt;Loading...&lt;/div&gt;\n\n  return (\n    &lt;ul&gt;\n      {posts.map((post) =&gt; (\n        &lt;li key={post.id}&gt;{post.title}&lt;/li&gt;\n      ))}\n    &lt;/ul&gt;\n  )\n}\n</code></pre>"},{"location":"app/building-your-application/data-fetching/fetching-and-caching/#24-orm","title":"2.4 \u4f7f\u7528 ORM \u6216\u6570\u636e\u5e93\u7f13\u5b58\u6570\u636e","text":"<p>\u6211\u4eec\u53ef\u4ee5\u4f7f\u7528 <code>unstable_cache</code> API \u6765\u7f13\u5b58\u54cd\u5e94\uff0c\u4ee5\u5141\u8bb8\u5728\u8fd0\u884c\u4e0b\u4e00\u4e2a\u6784\u5efa\u65f6\u9884\u6e32\u67d3\u9875\u9762\u3002</p> app/page.tsx<pre><code>import { unstable_cache } from 'next/cache';\nimport { db, posts } from '@/lib/db';\n\nconst getPosts = unstable_cache(\n  async () =&gt; {\n    return await db.select().from(posts)\n  },\n  ['posts'],\n  { revalidate: 3600, tags: ['posts'] }\n);\n\nexport default async function Page() {\n  const allPosts = await getPosts();\n\n  return (\n    &lt;ul&gt;\n      {allPosts.map((post) =&gt; (\n        &lt;li key={post.id}&gt;{post.title}&lt;/li&gt;\n      ))}\n    &lt;/ul&gt;\n  )\n}\n</code></pre> <p>\u6b64\u793a\u4f8b\u5c06\u6570\u636e\u5e93\u67e5\u8be2\u7ed3\u679c\u7f13\u5b58 1 \u5c0f\u65f6\uff083600 \u79d2\uff09\uff0c\u5b83\u8fd8\u6dfb\u52a0\u4e86\u7f13\u5b58\u6807\u7b7e <code>posts</code>\uff0c\u7136\u540e\u53ef\u4ee5\u901a\u8fc7\u589e\u91cf\u9759\u6001\u518d\u751f\u4f7f\u5176\u5931\u6548\u3002</p>"},{"location":"app/building-your-application/data-fetching/fetching-and-caching/#25","title":"2.5 \u8de8\u591a\u4e2a\u529f\u80fd\u91cd\u7528\u6570\u636e","text":"<p>\u5728\u6211\u4eec\u9700\u8981\u4f7f\u7528\u5728\u9875\u9762\u4e2d\u83b7\u53d6\u7684\u76f8\u540c\u6570\u636e\u7684\u5730\u65b9\uff0cNext.js \u4f1a\u4f7f\u7528 <code>generateMetadata</code> \u548c <code>generateStaticParams</code> \u7b49 API\u3002\u5982\u679c\u60a8\u4f7f\u7528 <code>fetch</code>\uff0c\u8bf7\u6c42\u4f1a\u88ab\u81ea\u52a8\u8bb0\u5f55\u3002\u8fd9\u610f\u5473\u7740\u60a8\u53ef\u4ee5\u4f7f\u7528\u76f8\u540c\u7684\u9009\u9879\u5b89\u5168\u5730\u8bbf\u95ee\u76f8\u540c\u7684 URL\uff0c\u800c\u53ea\u4f1a\u53d1\u51fa\u4e00\u4e2a\u8bf7\u6c42\u3002</p> app/page.tsx<pre><code>import { notFound } from 'next/navigation'\n\nasync function getPost(id) {\n  let res = await fetch(`https://api.vercel.app/blog/${id}`)\n  let post = await res.json()\n  if (!post) notFound()\n  return post\n}\n\nexport async function generateStaticParams() {\n  let posts = await fetch('https://api.vercel.app/blog').then((res) =&gt;\n    res.json()\n  )\n\n  return posts.map((post) =&gt; ({\n    id: post.id,\n  }))\n}\n\nexport async function generateMetadata({ params }) {\n  let post = await getPost(params.id)\n\n  return {title: post.title}\n}\n\nexport default async function Page({ params }) {\n  let post = await getPost(params.id)\n\n  return (\n    &lt;article&gt;\n      &lt;h1&gt;{post.title}&lt;/h1&gt;\n      &lt;p&gt;{post.content}&lt;/p&gt;\n    &lt;/article&gt;\n  )\n}\n</code></pre> <p>\u5982\u679c\u6211\u4eec\u4e0d\u4f7f\u7528 <code>fetch</code>\uff0c\u800c\u662f\u76f4\u63a5\u4f7f\u7528 ORM \u6216\u6570\u636e\u5e93\uff0c\u5219\u53ef\u4ee5\u4f7f\u7528 React <code>cache</code> \u51fd\u6570\u5305\u88c5\u6570\u636e\u83b7\u53d6\uff0c\u8fd9\u4ec5\u8fdb\u884c\u4e00\u6b21\u67e5\u8be2\u4ece\u6765\u6d88\u9664\u91cd\u590d\u8bf7\u6c42\u3002</p> <pre><code>import { cache } from 'react';\nimport { db, posts, eq } from '@/lib/db'; // Example with Drizzle ORM\nimport { notFound } from 'next/navigation';\n\nexport const getPost = cache(async (id) =&gt; {\n  const post = await db.query.posts.findFirst({\n    where: eq(posts.id, parseInt(id)),\n  })\n\n  if (!post) notFound()\n  return post\n})\n</code></pre>"},{"location":"app/building-your-application/data-fetching/fetching-and-caching/#26","title":"2.6 \u91cd\u65b0\u9a8c\u8bc1\u7f13\u5b58\u6570\u636e","text":"<p>\u4e86\u89e3\u6709\u5173\u4f7f\u7528\u589e\u91cf\u9759\u6001\u91cd\u65b0\u751f\u6210\u91cd\u65b0\u9a8c\u8bc1\u7f13\u5b58\u6570\u636e\u7684\u66f4\u591a\u4fe1\u606f\u3002</p>"},{"location":"app/building-your-application/data-fetching/fetching-and-caching/#3","title":"3. \u6a21\u5f0f","text":""},{"location":"app/building-your-application/data-fetching/fetching-and-caching/#31","title":"3.1 \u5e76\u884c\u548c\u987a\u5e8f\u6570\u636e\u83b7\u53d6","text":"<p>\u5728\u7ec4\u4ef6\u5185\u90e8\u83b7\u53d6\u6570\u636e\u65f6\uff0c\u9700\u8981\u6ce8\u610f\u4e24\u79cd\u6570\u636e\u83b7\u53d6\u6a21\u5f0f\uff1a\u5e76\u884c\u548c\u987a\u5e8f\u3002</p> <ul> <li>\u987a\u5e8f\uff1a\u7ec4\u4ef6\u6811\u4e2d\u7684\u8bf7\u6c42\u76f8\u4e92\u4f9d\u8d56\uff0c\u8fd9\u53ef\u80fd\u4f1a\u5bfc\u81f4\u52a0\u8f7d\u65f6\u95f4\u66f4\u957f\u3002</li> <li>\u5e76\u884c\uff1a\u8def\u7531\u4e2d\u7684\u8bf7\u6c42\u662f\u7acb\u5373\u53d1\u8d77\u7684\uff0c\u5e76\u4e14\u4f1a\u540c\u65f6\u52a0\u8f7d\u6570\u636e\uff0c\u8fd9\u51cf\u5c11\u4e86\u52a0\u8f7d\u6570\u636e\u6240\u9700\u7684\u603b\u65f6\u95f4\u3002</li> </ul> <p></p>"},{"location":"app/building-your-application/data-fetching/fetching-and-caching/#311","title":"3.1.1 \u987a\u5e8f\u6570\u636e\u83b7\u53d6","text":"<p>\u5982\u679c\u6211\u4eec\u6709\u5d4c\u5957\u7ec4\u4ef6\uff0c\u5e76\u4e14\u6bcf\u4e2a\u7ec4\u4ef6\u90fd\u83b7\u53d6\u81ea\u5df1\u7684\u6570\u636e\uff0c\u5982\u679c\u672a\u7f13\u5b58\u8fd9\u4e9b\u6570\u636e\u8bf7\u6c42\uff0c\u5219\u6570\u636e\u83b7\u53d6\u5c06\u4f1a\u6309**\u987a\u5e8f**\u53d1\u751f\u3002</p> <p>\u5728\u67d0\u4e9b\u60c5\u51b5\u4e0b\uff0c\u6211\u4eec\u53ef\u80fd\u9700\u8981\u8fd9\u79cd\u6a21\u5f0f\uff0c\u56e0\u4e3a\u672c\u6b21\u63d0\u53d6\u662f\u53d6\u51b3\u4e8e\u53e6\u4e00\u6b21\u63d0\u53d6\u7684\u7ed3\u679c\u3002\u4f8b\u5982\uff0c\u53ea\u6709\u5728 <code>Artist</code> \u7ec4\u4ef6\u5b8c\u6210\u83b7\u53d6\u6570\u636e\u540e\uff0c<code>Playlists</code> \u7ec4\u4ef6\u624d\u4f1a\u5f00\u59cb\u83b7\u53d6\u6570\u636e\uff0c\u56e0\u4e3a <code>Playlists</code> \u7ec4\u4ef6\u4f9d\u8d56\u4e8e <code>artistID</code> \u5c5e\u6027\uff1a</p> app/artist/[username]/page.js<pre><code>export default async function Page({ params: { username } }) {\n  // Get artist information\n  const artist = await getArtist(username)\n\n  return (\n    &lt;&gt;\n      &lt;h1&gt;{artist.name}&lt;/h1&gt;\n      {/* Show fallback UI while the Playlists component is loading */}\n      &lt;Suspense fallback={&lt;div&gt;Loading...&lt;/div&gt;}&gt;\n        {/* Pass the artist ID to the Playlists component */}\n        &lt;Playlists artistID={artist.id} /&gt;\n      &lt;/Suspense&gt;\n    &lt;/&gt;\n  )\n}\n\nasync function Playlists({ artistID }) {\n  // Use the artist ID to fetch playlists\n  const playlists = await getArtistPlaylists(artistID)\n\n  return (\n    &lt;ul&gt;\n      {playlists.map((playlist) =&gt; (\n        &lt;li key={playlist.id}&gt;{playlist.name}&lt;/li&gt;\n      ))}\n    &lt;/ul&gt;\n  )\n}\n</code></pre> <p>\u6211\u4eec\u53ef\u4ee5\u4f7f\u7528 <code>loading.js</code>\uff08\u5bf9\u4e8e\u8def\u7531\u6bb5\uff09\u6216React <code>&lt;Suspense&gt;</code>\uff08\u5bf9\u4e8e\u5d4c\u5957\u7ec4\u4ef6\uff09\u6765\u663e\u793a\u5373\u65f6\u52a0\u8f7d\u72b6\u6001\uff0c\u540c\u65f6 React \u5728\u7ed3\u679c\u4e2d\u6d41\u5f0f\u4f20\u8f93\u3002\u8fd9\u5c06\u9632\u6b62\u6574\u4e2a\u8def\u7531\u88ab\u6570\u636e\u8bf7\u6c42\u963b\u585e\uff0c\u5e76\u4e14\u7528\u6237\u5c06\u80fd\u591f\u4e0e\u9875\u9762\u4e2d\u51c6\u5907\u597d\u7684\u90e8\u5206\u5185\u5bb9\u8fdb\u884c\u4ea4\u4e92\u3002</p>"},{"location":"app/building-your-application/data-fetching/fetching-and-caching/#312","title":"3.1.2 \u5e76\u884c\u6570\u636e\u83b7\u53d6","text":"<p>\u9ed8\u8ba4\u60c5\u51b5\u4e0b\uff0c\u5e03\u5c40\u548c\u9875\u9762\u6bb5\u662f\u5e76\u884c\u5448\u73b0\u7684\uff0c\u8fd9\u610f\u5473\u7740\u8bf7\u6c42\u5c06\u4f1a\u5e76\u884c\u53d1\u8d77\u3002\u4f46\u662f\uff0c\u7531\u4e8e <code>async</code>/<code>await</code> \u7684\u6027\u8d28\uff0c\u540c\u4e00\u6bb5\u6216\u7ec4\u4ef6\u5185\u7b49\u5f85\u7684\u8bf7\u6c42\u5c06\u963b\u6b62\u5176\u4e0b\u65b9\u7684\u4efb\u4f55\u8bf7\u6c42\u3002</p> <p>\u60f3\u8981\u5e76\u884c\u83b7\u53d6\u6570\u636e\uff0c\u6211\u4eec\u53ef\u4ee5\u901a\u8fc7\u5728\u4f7f\u7528\u6570\u636e\u7684\u7ec4\u4ef6\u5916\u90e8\u5b9a\u4e49\u8bf7\u6c42\u6765\u5feb\u901f\u53d1\u8d77\u8bf7\u6c42\u3002\u901a\u8fc7\u5e76\u884c\u542f\u52a8\u4e24\u4e2a\u8bf7\u6c42\u53ef\u4ee5\u8282\u7701\u65f6\u95f4\uff0c\u4f46\u662f\u5728\u4e24\u4e2a\u8bf7\u6c42\u90fd\u5f97\u5230\u89e3\u51b3\u4e4b\u524d\uff0c\u7528\u6237\u5e76\u4e0d\u4f1a\u770b\u5230\u6e32\u67d3\u7684\u7ed3\u679c\u3002</p> <p>\u5728\u4e0b\u9762\u7684\u793a\u4f8b\u4e2d\uff0c<code>getArtist</code> \u548c <code>getAlbums</code> \u51fd\u6570\u5728 <code>Page</code> \u7ec4\u4ef6\u5916\u90e8\u5b9a\u4e49\uff0c\u5e76\u4f7f\u7528 <code>Promise.all</code> \u51fd\u6570\u5728\u7ec4\u4ef6\u5185\u90e8\u542f\u52a8\uff1a</p> app/artist/[username]/page.js<pre><code>import Albums from './albums'\n\nasync function getArtist(username) {\n  const res = await fetch(`https://api.example.com/artist/${username}`)\n  return res.json()\n}\n\nasync function getAlbums(username) {\n  const res = await fetch(`https://api.example.com/artist/${username}/albums`)\n  return res.json()\n}\n\nexport default async function Page({ params: { username } }) {\n  const artistData = getArtist(username)\n  const albumsData = getAlbums(username)\n\n  // Initiate both requests in parallel\n  const [artist, albums] = await Promise.all([artistData, albumsData])\n\n  return (\n    &lt;&gt;\n      &lt;h1&gt;{artist.name}&lt;/h1&gt;\n      &lt;Albums list={albums} /&gt;\n    &lt;/&gt;\n  )\n}\n</code></pre> <p>\u6b64\u5916\uff0c\u60a8\u53ef\u4ee5\u6dfb\u52a0 Suspense \u8fb9\u754c\u6765\u5206\u89e3\u6e32\u67d3\u5de5\u4f5c\u5e76\u5c3d\u5feb\u663e\u793a\u90e8\u5206\u7ed3\u679c\u3002</p>"},{"location":"app/building-your-application/data-fetching/fetching-and-caching/#32","title":"3.2 \u9884\u52a0\u8f7d\u6570\u636e","text":"<p>\u9632\u6b62\u7011\u5e03\u7684\u53e6\u4e00\u79cd\u65b9\u6cd5\u662f\u901a\u8fc7\u521b\u5efa\u4e00\u4e2a\u5b9e\u7528\u7a0b\u5e8f\u51fd\u6570\u6765\u4f7f\u7528 \u9884\u52a0\u8f7d \u6a21\u5f0f\uff0c\u6211\u4eec\u53ef\u4ee5\u5728\u963b\u585e\u8bf7\u6c42\u4e4b\u4e0a\u5feb\u901f\u5730\u8c03\u7528\u8be5\u51fd\u6570\u3002\u4f8b\u5982\uff0c<code>checkIsAvailable()</code> \u4f1a\u963b\u6b62 <code>&lt;Item/&gt;</code> \u6e32\u67d3\uff0c\u56e0\u6b64\u53ef\u4ee5\u5728\u5176\u4e4b\u524d\u8c03\u7528 <code>preload()</code> \u6765\u7acb\u5373\u542f\u52a8 <code>&lt;Item/&gt;</code> \u6570\u636e\u4f9d\u8d56\u9879\u3002\u5f53 <code>&lt;Item/&gt;</code> \u88ab\u6e32\u67d3\u65f6\uff0c\u5b83\u7684\u6570\u636e\u5c31\u5df2\u7ecf\u88ab\u83b7\u53d6\u3002</p> <p>\u8bf7\u6ce8\u610f\uff0c\u9884\u52a0\u8f7d\u51fd\u6570\u4e0d\u4f1a\u963b\u6b62 <code>checkIsAvailable()</code> \u8fd0\u884c\u3002</p> components/Item.jsapp/item/[id]/page.js <pre><code>import { getItem } from '@/utils/get-item'\n\nexport const preload = (id) =&gt; {\n  // void evaluates the given expression and returns undefined\n  // https://developer.mozilla.org/docs/Web/JavaScript/Reference/Operators/void\n  void getItem(id)\n}\nexport default async function Item({ id }) {\n  const result = await getItem(id)\n  // ...\n}\n</code></pre> <pre><code>import Item, { preload, checkIsAvailable } from '@/components/Item'\n\nexport default async function Page({ params: { id } }) {\n  // starting loading item data\n  preload(id)\n  // perform another asynchronous task\n  const isAvailable = await checkIsAvailable()\n\n  return isAvailable ? &lt;Item id={id} /&gt; : null\n}\n</code></pre> <p>! note \"\u8865\u5145\"</p> <pre><code>`preload`\u51fd\u6570\u4e5f\u53ef\u4ee5\u6709\u4efb\u4f55\u540d\u79f0\uff0c\u56e0\u4e3a\u5b83\u662f\u4e00\u79cd\u6a21\u5f0f\uff0c\u800c\u4e0d\u662f API\u3002\n</code></pre>"},{"location":"app/building-your-application/data-fetching/fetching-and-caching/#32-react","title":"3.2 \u5c06 React \u7f13\u5b58\u548c\u4ec5\u670d\u52a1\u5668\u4e0e\u9884\u52a0\u8f7d\u6a21\u5f0f\u7ed3\u5408\u4f7f\u7528","text":"<p>\u6211\u4eec\u53ef\u4ee5\u7ed3\u5408 <code>cache</code> \u65b9\u6cd5\u3001<code>preload</code> \u6a21\u5f0f\u548c <code>server-only</code> \u5305\u6765\u521b\u5efa\u53ef\u5728\u6574\u4e2a\u5e94\u7528\u7a0b\u5e8f\u4e2d\u4f7f\u7528\u7684\u6570\u636e\u83b7\u53d6\u5b9e\u7528\u7a0b\u5e8f\u3002</p> utils/get-item.js<pre><code>import { cache } from 'react'\nimport 'server-only'\n\nexport const preload = (id) =&gt; {\n  void getItem(id)\n}\n\nexport const getItem = cache(async (id) =&gt; {\n  // ...\n})\n</code></pre> <p>\u901a\u8fc7\u8fd9\u79cd\u65b9\u6cd5\uff0c\u60a8\u53ef\u4ee5\u5373\u65f6\u5730\u83b7\u53d6\u6570\u636e\u3001\u7f13\u5b58\u54cd\u5e94\uff0c\u5e76\u4fdd\u8bc1\u6b64\u6570\u636e\u83b7\u53d6\u4ec5\u53d1\u751f\u5728\u670d\u52a1\u7aef\u4e0a\u3002\u5e03\u5c40\u3001\u9875\u9762\u6216\u5176\u4ed6\u7ec4\u4ef6\u53ef\u4ee5\u4f7f\u7528 <code>utils/get-item</code> \u5bfc\u51fa\u7684\u7f13\u5b58\u51fd\u6570\u6765\u63a7\u5236\u4f55\u65f6\u83b7\u53d6\u9879\u76ee\u7684\u6570\u636e\u3002</p> <p>! note \"\u8865\u5145\"</p> <pre><code>\u6211\u4eec\u5efa\u8bae\u4f7f\u7528 `server-only` \u5305\u4ee5\u786e\u4fdd\u670d\u52a1\u7aef\u6570\u636e\u83b7\u53d6\u529f\u80fd\u6c38\u8fdc\u4e0d\u4f1a\u5728\u5ba2\u6237\u7aef\u4e0a\u4f7f\u7528\u3002\n</code></pre>"},{"location":"app/building-your-application/data-fetching/fetching-and-caching/#33","title":"3.3 \u9632\u6b62\u654f\u611f\u6570\u636e\u66b4\u9732\u7ed9\u5ba2\u6237\u7aef","text":"<p>\u6211\u4eec\u5efa\u8bae\u4f7f\u7528 React \u7684 taint API\uff0c<code>taintObjectReference</code> \u548c <code>taintUniqueValue</code>\uff0c\u4ee5\u9632\u6b62\u5c06\u6574\u4e2a\u5bf9\u8c61\u5b9e\u4f8b\u6216\u654f\u611f\u503c\u4f20\u9012\u7ed9\u5ba2\u6237\u7aef\u3002\u8981\u5728\u5e94\u7528\u7a0b\u5e8f\u4e2d\u542f\u7528\u8131\u654f\u529f\u80fd\uff0c\u8bf7\u5c06 Next.js \u914d\u7f6e\u6587\u4ef6\u4e2d\u7684 <code>experimental.taint</code> \u9009\u9879\u8bbe\u7f6e\u4e3a <code>true</code>\uff1a</p> next.config.js<pre><code>module.exports = {\n  experimental: {\n    taint: true,\n  },\n}\n</code></pre> <p>\u7136\u540e\u5c06\u8981\u8131\u654f\u7684\u5bf9\u8c61\u6216\u503c\u4f20\u9012\u7ed9 <code>experimental_taintObjectReference</code> \u6216 <code>experimental_taintUniqueValue</code> \u51fd\u6570\uff1a</p> app/utils.jsapp/page.js <pre><code>import { queryDataFromDB } from './api'\nimport {\n  experimental_taintObjectReference,\n  experimental_taintUniqueValue,\n} from 'react'\n\nexport async function getUserData() {\n  const data = await queryDataFromDB()\n  experimental_taintObjectReference(\n    'Do not pass the whole user object to the client',\n    data\n  )\n  experimental_taintUniqueValue(\n    \"Do not pass the user's address to the client\",\n    data,\n    data.address\n  )\n  return data\n}\n</code></pre> <pre><code>import { getUserData } from './data'\n\nexport async function Page() {\n  const userData = await getUserData()\n  return (\n    &lt;ClientComponent\n      user={userData} // this will cause an error because of taintObjectReference\n      address={userData.address} // this will cause an error because of taintUniqueValue\n    /&gt;\n  )\n}\n</code></pre>"},{"location":"app/building-your-application/rendering/server-components/","title":"\u670d\u52a1\u7aef\u7ec4\u4ef6","text":"<p>React \u670d\u52a1\u7aef\u7ec4\u4ef6\u5141\u8bb8\u60a8\u7f16\u5199\u53ef\u4ee5\u5728\u670d\u52a1\u5668\u4e0a\u6e32\u67d3\u4ee5\u53ca\u8fdb\u884c\u7f13\u5b58\u7684 UI\uff08\u53ef\u9009\uff09\u3002\u5728 Next.js \u4e2d\uff0c\u6e32\u67d3\u5de5\u4f5c\u88ab\u8def\u7531\u6bb5\u8fdb\u4e00\u6b65\u5206\u5272\uff0c\u4ee5\u5b9e\u73b0**\u6d41\u5f0f\u6e32\u67d3**\u548c**\u90e8\u5206\u6e32\u67d3**\uff0c\u5e76\u4e14\u5b58\u5728\u4e09\u79cd\u4e0d\u540c\u7684\u670d\u52a1\u5668\u6e32\u67d3\u7b56\u7565\uff1a</p> <ul> <li>\u9759\u6001\u6e32\u67d3\uff08Static Rendering\uff09</li> <li>\u52a8\u6001\u6e32\u67d3\uff08Dynamic Rendering\uff09</li> <li>\u6d41\u5f0f\u4f20\u8f93\uff08Streaming\uff09</li> </ul>"},{"location":"app/building-your-application/rendering/server-components/#1","title":"1. \u670d\u52a1\u7aef\u6e32\u67d3\u7684\u597d\u5904","text":"<p>\u5728\u670d\u52a1\u7aef\u4e0a\u8fdb\u884c\u6e32\u67d3\u5de5\u4f5c\u6709\u51e0\u4e2a\u597d\u5904\uff0c\u5305\u62ec\uff1a</p> <ul> <li>\u6570\u636e\u83b7\u53d6\uff08Data Fetching\uff09\uff1a\u670d\u52a1\u5668\u7aef\u7ec4\u4ef6\u5141\u8bb8\u6211\u4eec\u5c06\u6570\u636e\u83b7\u53d6\u79fb\u81f3\u66f4\u9760\u8fd1\u6570\u636e\u6e90\u7684\u670d\u52a1\u5668\uff0c\u8fd9\u51cf\u5c11\u4e86\u83b7\u53d6\u6e32\u67d3\u6240\u9700\u6570\u636e\u7684\u7684\u65f6\u95f4\uff0c\u4ee5\u53ca\u5ba2\u6237\u7aef\u9700\u8981\u53d1\u51fa\u7684\u8bf7\u6c42\u6570\u91cf\uff0c\u4ece\u800c\u63d0\u9ad8\u6574\u4f53\u6027\u80fd\u3002</li> <li>\u5b89\u5168\uff08Security\uff09\uff1a\u670d\u52a1\u5668\u7ec4\u4ef6\u5141\u8bb8\u6211\u4eec\u5c06\u654f\u611f\u6570\u636e\u548c\u903b\u8f91\uff08\u4f8b\u5982\u4ee4\u724c\u548c API \u5bc6\u94a5\uff09\u4fdd\u7559\u5728\u670d\u52a1\u5668\u4e0a\uff0c\u800c\u4e0d\u5b58\u5728\u5c06\u5b83\u4eec\u66b4\u9732\u7ed9\u5ba2\u6237\u7aef\u7684\u98ce\u9669\u3002</li> <li>\u7f13\u5b58\uff08Caching\uff09\uff1a\u901a\u8fc7\u5728\u670d\u52a1\u7aef\u4e0a\u8fdb\u884c\u6e32\u67d3\uff0c\u5c06\u7ed3\u679c\u7f13\u5b58\u5e76\u5728\u540e\u7eed\u8bf7\u6c42\u548c\u8de8\u7528\u6237\u4e2d\u590d\u7528\uff0c\u8fd9\u6837\u7684\u673a\u5236\u53ef\u4ee5\u51cf\u5c11\u6bcf\u4e2a\u8bf7\u6c42\u4e0a\u5b8c\u6210\u7684\u6e32\u67d3\u548c\u6570\u636e\u83b7\u53d6\u91cf\u6765\u63d0\u9ad8\u6027\u80fd\u5e76\u964d\u4f4e\u6210\u672c\u3002</li> <li>\u6027\u80fd\uff08Performance\uff09\uff1a\u670d\u52a1\u7aef\u7ec4\u4ef6\u4e3a\u60a8\u63d0\u4f9b\u4e86\u989d\u5916\u7684\u5de5\u5177\u6765\u4f18\u5316\u57fa\u7ebf\u6027\u80fd\u3002\u4f8b\u5982\uff0c\u5982\u679c\u6211\u4eec\u4ece\u5b8c\u5168\u7531\u5ba2\u6237\u7aef\u7ec4\u4ef6\u7ec4\u6210\u7684\u5e94\u7528\u7a0b\u5e8f\u5f00\u59cb\uff0c\u5c06 UI \u7684\u975e\u4ea4\u4e92\u5f0f\u90e8\u5206\u8fc1\u79fb\u5230\u670d\u52a1\u5668\u7ec4\u4ef6\uff0c\u8fd9\u6837\u53ef\u4ee5\u51cf\u5c11\u6240\u9700\u7684\u5ba2\u6237\u7aef JavaScript \u6570\u91cf\u3002\u56e0\u4e3a\u6d4f\u89c8\u5668\u9700\u8981\u4e0b\u8f7d\u3001\u89e3\u6790\u548c\u6267\u884c\u7684\u5ba2\u6237\u7aef JavaScript \u8d8a\u5c11\uff0c\u5bf9\u4e8e\u4e92\u8054\u7f51\u901f\u5ea6\u8f83\u6162\u6216\u8bbe\u5907\u529f\u80fd\u8f83\u5f31\u7684\u7528\u6237\u6765\u8bf4\u662f\u8d8a\u6709\u5e2e\u52a9\u7684\u3002</li> <li>\u521d\u59cb\u9875\u9762\u52a0\u8f7d\u548c\u9996\u6b21\u5185\u5bb9\u7ed8\u5236 (Initial Page Load and First Contentful Paint, FCP)\uff1a\u5728\u670d\u52a1\u7aef\u6211\u4eec\u53ef\u4ee5\u751f\u6210 HTML \u4ee5\u5141\u8bb8\u7528\u6237\u7acb\u5373\u67e5\u770b\u9875\u9762\uff0c\u800c\u65e0\u9700\u7b49\u5f85\u5ba2\u6237\u7aef\u4e0b\u8f7d\u3001\u89e3\u6790\u548c\u6267\u884c\u6e32\u67d3\u9875\u9762\u6240\u9700\u7684 JavaScript\u3002</li> <li>\u641c\u7d22\u5f15\u64ce\u4f18\u5316\u548c\u793e\u4ea4\u7f51\u7edc\u53ef\u5171\u4eab\u6027\uff08Search Engine Optimization and Social Network Shareability\uff09\uff1a\u641c\u7d22\u5f15\u64ce\u673a\u5668\u4eba\u53ef\u4ee5\u4f7f\u7528\u6e32\u67d3\u7684 HTML \u6765\u7d22\u5f15\u60a8\u7684\u9875\u9762\uff0c\u793e\u4ea4\u7f51\u7edc\u673a\u5668\u4eba\u53ef\u4ee5\u4f7f\u7528\u6e32\u67d3\u7684 HTML \u4e3a\u60a8\u7684\u9875\u9762\u751f\u6210\u793e\u4ea4\u5361\u9884\u89c8\u3002</li> <li>\u6d41\u5f0f\u4f20\u8f93\uff08Streaming\uff09\uff1a\u670d\u52a1\u7aef\u7ec4\u4ef6\u5141\u8bb8\u6211\u4eec\u5c06\u6e32\u67d3\u5de5\u4f5c\u5206\u6210\u591a\u4e2a\u5757\uff0c\u5e76\u5728\u51c6\u5907\u5c31\u7eea\u65f6\u5c06\u5b83\u4eec \u6d41\u5f0f \u4f20\u8f93\u5230\u5ba2\u6237\u7aef\u3002\u8fd9\u53ef\u4ee5\u8ba9\u7528\u6237\u66f4\u65e9\u5730\u770b\u5230\u9875\u9762\u7684\u67d0\u4e9b\u90e8\u5206\uff0c\u800c\u4e0d\u5fc5\u7b49\u5f85\u6574\u4e2a\u9875\u9762\u5728\u670d\u52a1\u7aef\u4e0a\u5b8c\u6210\u6e32\u67d3\u540e\u518d\u5448\u73b0\u3002</li> </ul>"},{"location":"app/building-your-application/rendering/server-components/#2-nextjs","title":"2. \u5728 Next.js \u4e2d\u4f7f\u7528\u670d\u52a1\u7aef\u7ec4\u4ef6","text":"<p>\u9ed8\u8ba4\u60c5\u51b5\u4e0b\uff0cNext.js \u4f7f\u7528\u670d\u52a1\u7aef\u7ec4\u4ef6\uff0c\u5728\u65e0\u9700\u989d\u5916\u914d\u7f6e\u60c5\u51b5\u4e0b\u5141\u8bb8\u6211\u4eec\u81ea\u52a8\u5b9e\u73b0\u670d\u52a1\u5668\u6e32\u67d3\uff0c\u5e76\u4e14\u53ef\u4ee5\u5728\u9700\u8981\u65f6\u9009\u62e9\u4f7f\u7528\u5ba2\u6237\u7aef\u7ec4\u4ef6\uff0c\u8bf7\u53c2\u9605\u5ba2\u6237\u7aef\u7ec4\u4ef6\u3002</p>"},{"location":"app/building-your-application/rendering/server-components/#3","title":"3. \u670d\u52a1\u7aef\u7ec4\u4ef6\u5982\u4f55\u8fdb\u884c\u6e32\u67d3\uff1f","text":"<p>\u670d\u52a1\u7aef\u4e0a Next.js \u4f7f\u7528 React \u7684 API \u5b9e\u73b0\u7f16\u6392\u6e32\u67d3\u3002\u6574\u4e2a\u6e32\u67d3\u5de5\u4f5c\u88ab\u5206\u6210\u591a\u4e2a\u5757\uff1a\u7531\u5355\u72ec\u7684\u8def\u7531\u6bb5\u548c Suspense Boundaries \u7ec4\u6210\u3002</p> <p>\u6bcf\u4e2a\u5757\u90fd\u5206\u4e24\u6b65\u6e32\u67d3\uff1a</p> <ol> <li>React \u5c06\u670d\u52a1\u7aef\u7ec4\u4ef6\u5448\u73b0\u4e3a\u4e00\u79cd\u7279\u6b8a\u7684\u6570\u636e\u683c\u5f0f\uff0c\u79f0\u4e3a React \u670d\u52a1\u7aef\u7ec4\u4ef6\u6709\u6548\u8d1f\u8f7d\uff08RSC Payload\uff09\uff1b</li> <li>Next.js \u4f7f\u7528 RSC \u6709\u6548\u8d1f\u8f7d\u548c\u5ba2\u6237\u7aef\u7ec4\u4ef6 JavaScript \u6307\u4ee4\u5728\u670d\u52a1\u7aef\u4e0a\u5448\u73b0 HTML\u3002</li> </ol> <p>\u7136\u540e\uff0c\u5728\u5ba2\u6237\u7aef\uff1a</p> <ol> <li>HTML \u7528\u4e8e\u7acb\u5373\u663e\u793a\u8def\u7531\u4e8e\u7684\u4e14\u975e\u4ea4\u4e92\u7684\u5feb\u901f\u9884\u89c8\uff0c\u8fd9\u4ec5\u9002\u7528\u4e8e\u521d\u59cb\u9875\u9762\u52a0\u8f7d\u3002</li> <li>React \u670d\u52a1\u7aef\u7ec4\u4ef6\u6709\u6548\u8d1f\u8f7d\u7528\u4e8e\u534f\u8c03\u5ba2\u6237\u7aef\u548c\u670d\u52a1\u5668\u7ec4\u4ef6\u6811\uff0c\u5e76\u66f4\u65b0 DOM\u3002</li> <li>JavaScript \u6307\u4ee4\u7528\u4e8e\u8865\u5145\u5ba2\u6237\u7aef\u7ec4\u4ef6\uff0c\u5e76\u4f7f\u5f97\u5e94\u7528\u7a0b\u5e8f\u5177\u6709\u4ea4\u4e92\u6027\u3002</li> </ol> \u4ec0\u4e48\u662f React \u670d\u52a1\u7aef\u7ec4\u4ef6\u8d1f\u8f7d\uff08RSC Payload\uff09\uff1f <p>RSC Payload \u662f\u6e32\u67d3\u7684 React \u670d\u52a1\u7aef\u7ec4\u4ef6\u6811\u7684\u7d27\u51d1\u4e8c\u8fdb\u5236\u8868\u793a\u3002\u5ba2\u6237\u7aef\u4e0a\u7684 React \u4f7f\u7528\u5b83\u6765\u66f4\u65b0\u6d4f\u89c8\u5668\u7684 DOM\u3002 RSC \u6709\u6548\u8d1f\u8f7d\u5305\u542b\uff1a</p> <ul> <li>\u670d\u52a1\u7aef\u7ec4\u4ef6\u7684\u6e32\u67d3\u7ed3\u679c</li> <li>\u5ba2\u6237\u7aef\u7ec4\u4ef6\u5e94\u5448\u73b0\u4f4d\u7f6e\u7684\u5360\u4f4d\u7b26\uff0c\u4ee5\u53ca\u5bf9\u5176 JavaScript \u6587\u4ef6\u7684\u5f15\u7528</li> <li>\u4ece\u670d\u52a1\u7aef\u7ec4\u4ef6\u4f20\u9012\u5230\u5ba2\u6237\u7aef\u7ec4\u4ef6\u7684\u4efb\u4f55 <code>props</code></li> </ul>"},{"location":"app/building-your-application/rendering/server-components/#4","title":"4. \u670d\u52a1\u7aef\u6e32\u67d3\u7b56\u7565","text":"<p>\u670d\u52a1\u5668\u6e32\u67d3\u5206\u4e3a\u4e09\u4e2a\u5b50\u96c6\uff1a\u9759\u6001\u3001\u52a8\u6001\u4ee5\u53ca\u6d41\u5f0f\u4f20\u8f93\u3002</p>"},{"location":"app/building-your-application/rendering/server-components/#41","title":"4.1 \u9759\u6001\u6e32\u67d3\uff08\u9ed8\u8ba4\uff09","text":"<p>\u4f7f\u7528\u9759\u6001\u6e32\u67d3\u65f6\uff0c\u8def\u7531\u4f1a\u5728**\u6784\u5efa\u65f6**\u8fdb\u884c\u6e32\u67d3\uff0c\u6216\u8005\u5728\u6570\u636e\u91cd\u65b0\u9a8c\u8bc1\u540e\u5728\u540e\u53f0\u6e32\u67d3\uff0c\u5176\u7ed3\u679c\u5c06\u88ab\u7f13\u5b58\u5e76\u53ef\u4ee5\u63a8\u9001\u5230 CDN\uff08Content Delivery Network\uff09\u3002\u8fd9\u6837\u7684\u4f18\u5316\u5141\u8bb8\u60a8\u5728\u7528\u6237\u548c\u670d\u52a1\u5668\u8bf7\u6c42\u4e4b\u95f4\u5171\u4eab\u6e32\u67d3\u5de5\u4f5c\u7684\u7ed3\u679c\u3002</p> <p>\u5f53\u8def\u7531\u5177\u6709\u672a\u9488\u5bf9\u7528\u6237\u4e2a\u6027\u5316\u4e14\u53ef\u5728\u6784\u5efa\u65f6\u5df2\u77e5\u7684\u6570\u636e\uff08\u4f8b\u5982\u9759\u6001\u535a\u5ba2\u6587\u7ae0\u6216\u4ea7\u54c1\u9875\u9762\uff09\u65f6\uff0c\u4f7f\u7528\u9759\u6001\u6e32\u67d3\u5c06\u975e\u5e38\u6709\u7528\u3002</p>"},{"location":"app/building-your-application/rendering/server-components/#42","title":"4.2 \u52a8\u6001\u6e32\u67d3","text":"<p>\u901a\u8fc7\u52a8\u6001\u6e32\u67d3\uff0c\u53ef\u4ee5\u5728\u8bf7\u6c42\u65f6\u4e3a\u6bcf\u4e2a\u7528\u6237\u6e32\u67d3\u8def\u7531\u3002\u5f53\u8def\u7531\u5177\u6709\u9488\u5bf9\u7528\u6237\u7684\u4e2a\u6027\u5316\u6570\u636e\u6216\u5177\u6709\u4ec5\u5728\u8bf7\u6c42\u65f6\u624d\u80fd\u77e5\u9053\u7684\u4fe1\u606f\uff08\u4f8b\u5982 cookie \u6216 URL \u7684\u641c\u7d22\u53c2\u6570\uff09\u65f6\uff0c\u52a8\u6001\u6e32\u67d3\u5c06\u975e\u5e38\u6709\u7528\u3002</p> <p>\u52a8\u6001\u8def\u7531\u4e2d\u7f13\u5b58\u6570\u636e</p> <p>\u5728\u5927\u591a\u6570\u7f51\u7ad9\u4e2d\uff0c\u8def\u7531\u5e76\u4e0d\u662f\u5b8c\u5168\u9759\u6001\u6216\u5b8c\u5168\u52a8\u6001\u7684\uff0c\u5b9e\u9645\u4e0a\u5b83\u662f\u4e00\u4e2a\u9891\u8c31\u3002\u4f8b\u5982\uff0c\u60a8\u53ef\u4ee5\u62e5\u6709\u4e00\u4e2a\u7535\u5b50\u5546\u52a1\u9875\u9762\uff0c\u8be5\u9875\u9762\u4f7f\u7528\u5b9a\u671f\u91cd\u65b0\u9a8c\u8bc1\u7684\u7f13\u5b58\u4ea7\u54c1\u6570\u636e\uff0c\u4f46\u4e5f\u5305\u542b\u672a\u7f13\u5b58\u7684\u4e2a\u6027\u5316\u5ba2\u6237\u6570\u636e\u3002</p> <p>\u5728 Next.js \u4e2d\uff0c\u6211\u4eec\u53ef\u4ee5\u5728\u52a8\u6001\u6e32\u67d3\u4e2d\u5305\u542b\u7f13\u5b58\u548c\u672a\u7f13\u5b58\u6570\u636e\u7684\u8def\u7531\u3002\u8fd9\u662f\u56e0\u4e3a RSC \u6709\u6548\u8d1f\u8f7d\u548c\u6570\u636e\u662f\u5206\u5f00\u7f13\u5b58\u7684\u3002\u8fd9\u4f7f\u5f97\u6211\u4eec\u53ef\u4ee5\u81ea\u7531\u9009\u62e9\u52a8\u6001\u6e32\u67d3\uff0c\u800c\u4e0d\u5fc5\u62c5\u5fc3\u5728\u8bf7\u6c42\u65f6\u83b7\u53d6\u6240\u6709\u6570\u636e\u5bf9\u6027\u80fd\u7684\u5f71\u54cd\u3002</p> <p>\u4e86\u89e3\u6709\u5173\u5168\u8def\u7531\u7f13\u5b58\u548c\u6570\u636e\u7f13\u5b58\u7684\u66f4\u591a\u4fe1\u606f\u3002</p>"},{"location":"app/building-your-application/rendering/server-components/#421","title":"4.2.1 \u5207\u6362\u52a8\u6001\u6e32\u67d3","text":"<p>\u5728\u6e32\u67d3\u8fc7\u7a0b\u4e2d\uff0c\u5982\u679c\u53d1\u73b0\u52a8\u6001\u51fd\u6570\u6216\u672a\u7f13\u5b58\u7684\u6570\u636e\u8bf7\u6c42\uff0cNext.js \u5c06\u5207\u6362\u4e3a\u52a8\u6001\u6e32\u67d3\u6574\u4e2a\u8def\u7531\u3002\u4e0b\u8868\u603b\u7ed3\u4e86\u52a8\u6001\u51fd\u6570\u548c\u6570\u636e\u7f13\u5b58\u5982\u4f55\u5f71\u54cd\u9759\u6001\u6216\u52a8\u6001\u6e32\u67d3\u8def\u7531\uff1a</p> \u52a8\u6001\u51fd\u6570 \u6570\u636e Route N \u7f13\u5b58 \u9759\u6001\u6e32\u67d3 Y \u7f13\u5b58 \u52a8\u6001\u6e32\u67d3 N \u672a\u7f13\u5b58 \u52a8\u6001\u6e32\u67d3 Y \u672a\u7f13\u5b58 \u52a8\u6001\u6e32\u67d3 <p>\u5728\u4e0a\u8868\u4e2d\uff0c\u8981\u4f7f\u8def\u7531\u5b8c\u5168\u9759\u6001\uff0c\u5fc5\u987b\u7f13\u5b58\u6240\u6709\u6570\u636e\u3002\u4f46\u662f\uff0c\u60a8\u53ef\u4ee5\u62e5\u6709\u4f7f\u7528\u7f13\u5b58\u548c\u672a\u7f13\u5b58\u6570\u636e\u83b7\u53d6\u7684\u52a8\u6001\u6e32\u67d3\u8def\u7531\u3002</p> <p>\u4f5c\u4e3a\u5f00\u53d1\u4eba\u5458\uff0c\u6211\u4eec\u65e0\u9700\u5728\u9759\u6001\u6e32\u67d3\u548c\u52a8\u6001\u6e32\u67d3\u4e4b\u95f4\u8fdb\u884c\u9009\u62e9\uff0c\u56e0\u4e3a Next.js \u4f1a\u6839\u636e\u6240\u4f7f\u7528\u7684\u529f\u80fd\u548c API \u81ea\u52a8\u4e3a\u6bcf\u4e2a\u8def\u7531\u9009\u62e9\u6700\u4f73\u6e32\u67d3\u7b56\u7565\u3002\u76f8\u53cd\uff0c\u60a8\u53ef\u4ee5\u9009\u62e9\u4f55\u65f6\u7f13\u5b58\u6216\u91cd\u65b0\u9a8c\u8bc1\u7279\u5b9a\u6570\u636e\uff0c\u5e76\u4e14\u53ef\u4ee5\u9009\u62e9\u6d41\u5f0f\u4f20\u8f93\u90e8\u5206 UI\u3002</p>"},{"location":"app/building-your-application/rendering/server-components/#422","title":"4.2.2 \u52a8\u6001\u51fd\u6570","text":"<p>\u52a8\u6001\u51fd\u6570\u4f9d\u8d56\u4e8e\u53ea\u80fd\u5728\u8bf7\u6c42\u65f6\u83b7\u77e5\u7684\u4fe1\u606f\uff0c\u4f8b\u5982\u7528\u6237\u7684 cookie\u3001\u5f53\u524d\u8bf7\u6c42\u6807\u5934\u6216 URL \u7684\u641c\u7d22\u53c2\u6570\u3002\u5728 Next.js \u4e2d\uff0c\u8fd9\u4e9b\u52a8\u6001\u51fd\u6570\u662f\uff1a</p> <ul> <li><code>cookies()</code> \u548c <code>headers()</code>\uff1a\u5728\u670d\u52a1\u7aef\u7ec4\u4ef6\u4e2d\u4f7f\u7528\u8fd9\u4e9b\u51fd\u6570\u5c06\u5728\u8bf7\u6c42\u65f6\u9009\u62e9\u6574\u4e2a\u8def\u7531\u8fdb\u884c\u52a8\u6001\u6e32\u67d3\u3002</li> <li><code>searchParams</code>\uff1a\u5728\u9875\u9762\u4e0a\u4f7f\u7528 <code>searchParams</code> \u5c5e\u6027\u5c06\u9009\u62e9\u9875\u9762\u5728\u8bf7\u6c42\u65f6\u8fdb\u884c\u52a8\u6001\u6e32\u67d3\u3002</li> </ul>"},{"location":"app/building-your-application/rendering/server-components/#43","title":"4.3 \u6d41\u5f0f","text":"<p>\u6d41\u5f0f\u4f20\u8f93\u5141\u8bb8\u6211\u4eec\u80fd\u591f\u4ece\u670d\u52a1\u5668\u9010\u6b65\u6e32\u67d3 UI\u3002\u5de5\u4f5c\u88ab\u5206\u6210\u591a\u4e2a\u5757\uff0c\u5e76\u5728\u51c6\u5907\u5c31\u7eea\u65f6\u6d41\u5f0f\u4f20\u8f93\u5230\u5ba2\u6237\u7aef\u3002\u8fd9\u4f7f\u5f97\u7528\u6237\u80fd\u591f\u5728\u6574\u4e2a\u5185\u5bb9\u5b8c\u6210\u4e4b\u524d\u7acb\u5373\u770b\u5230\u9875\u9762\u7684\u90e8\u5206\u5185\u5bb9\u3002</p> <p></p> <p>\u9ed8\u8ba4\u60c5\u51b5\u4e0b\uff0c\u6d41\u5f0f\u4f20\u8f93\u5185\u7f6e\u4e8e Next.js \u5e94\u7528\u8def\u7531\u5668\u4e2d\u3002\u8fd9\u6709\u52a9\u4e8e\u63d0\u9ad8\u521d\u59cb\u9875\u9762\u52a0\u8f7d\u6027\u80fd\uff0c\u4ee5\u53ca\u4f9d\u8d56\u4e8e\u8f83\u6162\u6570\u636e\u83b7\u53d6\uff08\u4f1a\u963b\u6b62\u6e32\u67d3\u6574\u4e2a\u8def\u7531\uff09\u7684 UI\u3002\u4f8b\u5982\uff0c\u4ea7\u54c1\u9875\u9762\u4e0a\u7684\u8bc4\u8bba\u3002</p> <p>\u60a8\u53ef\u4ee5\u4f7f\u7528 <code>loading.js</code> \u548c\u5e26\u6709 React Suspense \u7684 UI \u7ec4\u4ef6\u5f00\u59cb\u6d41\u5f0f\u4f20\u8f93\u8def\u7ebf\u6bb5\u3002\u6709\u5173\u66f4\u591a\u4fe1\u606f\uff0c\u8bf7\u53c2\u9605\u52a0\u8f7d UI \u548c\u6d41\u5f0f\u4f20\u8f93\u90e8\u5206\u3002</p>"},{"location":"app/building-your-application/routing/","title":"\u8def\u7531\u57fa\u7840\u77e5\u8bc6","text":"<p>\u8def\u7531\u662f\u6bcf\u4e2a\u5e94\u7528\u7a0b\u5e8f\u7684\u9aa8\u67b6\uff0c\u672c\u9875\u9762\u5c06\u5411\u60a8\u4ecb\u7ecd Web \u8def\u7531\u7684\u57fa\u672c\u6982\u5ff5\u4ee5\u53ca\u5982\u4f55\u5728 Next.js \u4e2d\u5904\u7406\u8def\u7531\u3002</p>"},{"location":"app/building-your-application/routing/#1","title":"1. \u672f\u8bed","text":"<p>\u9996\u5148\uff0c\u60a8\u5c06\u770b\u5230\u6574\u4e2a\u6587\u6863\u4e2d\u4f7f\u7528\u4e86\u8fd9\u4e9b\u672f\u8bed\uff0c\u4e0b\u9762\u4e00\u4e2a\u5feb\u901f\u53c2\u8003\uff1a</p> <p></p> <ul> <li>Tree\uff08\u6811\uff09\uff1a\u53ef\u89c6\u5316\u5c42\u6b21\u7ed3\u6784\u7684\u7ea6\u5b9a\u3002\u4f8b\u5982\uff0c\u5177\u6709\u7236\u7ec4\u4ef6\u548c\u5b50\u7ec4\u4ef6\u7684\u7ec4\u4ef6\u6811\u3001\u6587\u4ef6\u5939\u7ed3\u6784\u7b49\u3002</li> <li>SubTree\uff08\u5b50\u6811\uff09\uff1a\u6811\u7684\u4e00\u90e8\u5206\uff0c\u4ece\u65b0\u7684\u6839\u8282\u70b9\uff08\u7b2c\u4e00\u4e2a\uff09\u5f00\u59cb\uff0c\u5230\u53f6\u5b50\u8282\u70b9\uff08\u6700\u540e\u4e00\u4e2a\uff09\u7ed3\u675f\u3002</li> <li>Root\uff08\u6839\u8282\u70b9\uff09\uff1a\u6811\u6216\u5b50\u6811\u4e2d\u7684\u7b2c\u4e00\u4e2a\u8282\u70b9\uff0c\u4f8b\u5982\u6839\u5e03\u5c40\u3002</li> <li>Leaf\uff08\u53f6\u5b50\u8282\u70b9\uff09\uff1a\u5b50\u6811\u4e2d\u6ca1\u6709\u5411\u7ee7\u7eed\u5411\u4e0b\u62c6\u5206\u7684\u5b50\u8282\u70b9\uff0c\u4f8b\u5982 URL \u8def\u5f84\u4e2d\u7684\u6700\u540e\u4e00\u6bb5\u3002</li> </ul> <p></p> <ul> <li>URL Segment\uff08URL \u6bb5\uff09\uff1a\u7531\u659c\u6760\u5206\u9694\u7684 URL \u8def\u5f84\u7684\u4e00\u90e8\u5206\u3002</li> <li>URL Path\uff08URL \u6bb5\uff09\uff1a\u57df\u540d\u540e\u9762\u7684 URL \u90e8\u5206\uff08\u7531\u6bb5\u7ec4\u6210\uff09\u3002</li> </ul>"},{"location":"app/building-your-application/routing/#2","title":"2. \u5e94\u7528\u8def\u7531\u5668","text":"<p>\u5728\u7248\u672c 13 \u4e2d\uff0cNext.js \u5f15\u5165\u4e86\u4e00\u4e2a\u57fa\u4e8e React \u670d\u52a1\u7aef\u7ec4\u4ef6 (React Server Components) \u6784\u5efa\u7684\u65b0\u5e94\u7528\u8def\u7531\u5668\uff08App Router\uff09\uff0c\u5b83\u652f\u6301\u5171\u4eab\u5e03\u5c40\u3001\u5d4c\u5957\u8def\u7531\u3001\u52a0\u8f7d\u72b6\u6001\u3001\u9519\u8bef\u5904\u7406\u7b49\u3002</p> <p>\u5e94\u7528\u8def\u7531\u5668\u5728\u540d\u4e3a <code>app</code> \u7684\u76ee\u5f55\u4e2d\u5de5\u4f5c\u3002\u5e94\u7528\u7a0b\u5e8f\u76ee\u5f55 <code>app</code> \u4e0e\u9875\u9762\u76ee\u5f55 <code>pages</code> \u4e00\u8d77\u5de5\u4f5c\uff0c\u4ee5\u5141\u8bb8\u589e\u91cf\u8c03\u7528\u3002\u8fd9\u5141\u8bb8\u6211\u4eec\u5728 <code>pages</code> \u76ee\u5f55\u4e2d\u4e3a\u4e4b\u524d\u7684\u884c\u4e3a\u4fdd\u6301\u5176\u4ed6\u8def\u7531\u7684\u540c\u65f6\uff0c\u53ef\u4ee5\u9009\u62e9\u5e94\u7528\u7a0b\u5e8f\u7684\u67d0\u4e9b\u8def\u7531\u5d4c\u5165\u5230\u65b0\u884c\u4e3a\u4e2d\u3002\u5982\u679c\u60a8\u7684\u5e94\u7528\u7a0b\u5e8f\u4f7f\u7528\u9875\u9762\u76ee\u5f55\uff0c\u53e6\u8bf7\u53c2\u9605\u9875\u9762\u8def\u7531\u5668\uff08Page Router\uff09\u6587\u6863\u3002</p> <p>\u6ce8\u610f</p> <p>App Router \u7684\u4f18\u5148\u7ea7\u9ad8\u4e8e Pages Router\uff0c\u8de8\u76ee\u5f55\u7684\u8def\u7531\u4e0d\u5e94\u89e3\u6790\u4e3a\u76f8\u540c\u7684 URL \u8def\u5f84\uff0c\u5e76\u4e14\u4f1a\u5bfc\u81f4\u6784\u5efa\u65f6\u9519\u8bef\u4ee5\u9632\u6b62\u51b2\u7a81\u3002    </p> <p></p> <p>\u9ed8\u8ba4\u60c5\u51b5\u4e0b\uff0c\u5e94\u7528\u7a0b\u5e8f\u5185\u7684\u7ec4\u4ef6\u662f React \u670d\u52a1\u7aef\u7ec4\u4ef6\u3002\u8fd9\u662f\u4e00\u79cd\u6027\u80fd\u4f18\u5316\uff0c\u53ef\u4ee5\u8ba9\u60a8\u8f7b\u677e\u8c03\u7528\u5b83\u4eec\uff0c\u5e76\u4e14\u60a8\u8fd8\u53ef\u4ee5\u4f7f\u7528\u5ba2\u6237\u7aef\u7ec4\u4ef6\u3002</p> <p>\u63a8\u8350</p> <p>\u5982\u679c\u60a8\u4e0d\u719f\u6089\u670d\u52a1\u5668\u7ec4\u4ef6\uff0c\u8bf7\u67e5\u770b\u670d\u52a1\u5668\u9875\u9762\u3002</p>"},{"location":"app/building-your-application/routing/#3","title":"3. \u6587\u4ef6\u5939\u548c\u6587\u4ef6\u7684\u89d2\u8272","text":"<p>Next.js \u4f7f\u7528\u57fa\u4e8e\u6587\u4ef6\u7cfb\u7edf\u7684\u8def\u7531\u5668\uff0c\u5176\u4e2d\uff1a</p> <ul> <li>\u6587\u4ef6\u5939\u7528\u4e8e\u5b9a\u4e49\u8def\u7531\u3002\u8def\u7531\u662f\u5d4c\u5957\u6587\u4ef6\u5939\u7684\u5355\u4e2a\u8def\u5f84\uff0c\u9075\u5faa\u4ece**\u6839\u6587\u4ef6\u5939**\u5230\u5305\u542b <code>page.js</code> \u6587\u4ef6\u7684\u6700\u7ec8**\u53f6\u5b50\u6587\u4ef6\u5939**\u7684\u6587\u4ef6\u7cfb\u7edf\u5c42\u6b21\u7ed3\u6784\u3002\u8bf7\u53c2\u9605\u5b9a\u4e49\u8def\u7531\u3002</li> <li>\u6587\u4ef6\u7528\u4e8e\u521b\u5efa\u4e3a\u8def\u7531\u6bb5\u663e\u793a\u7684 UI\u3002\u8bf7\u53c2\u9605\u7279\u6b8a\u6587\u4ef6\u3002</li> </ul>"},{"location":"app/building-your-application/routing/#4","title":"4. \u8def\u7531\u6bb5","text":"<p>\u8def\u7531\u4e2d\u7684\u6bcf\u4e2a\u6587\u4ef6\u5939\u4ee3\u8868\u4e00\u4e2a\u8def\u7531\u6bb5\u3002\u6bcf\u4e2a\u8def\u7531\u6bb5\u90fd\u6620\u5c04\u5230 URL \u8def\u5f84\u4e2d\u7684\u76f8\u5e94\u5206\u6bb5\u3002</p> <p></p>"},{"location":"app/building-your-application/routing/#5","title":"5. \u5d4c\u5957\u8def\u7531","text":"<p>\u8981\u521b\u5efa\u5d4c\u5957\u8def\u7531\uff0c\u60a8\u53ef\u4ee5\u5c06\u6587\u4ef6\u5939\u76f8\u4e92\u5d4c\u5957\u3002\u4f8b\u5982\uff0c\u6211\u4eec\u53ef\u4ee5\u901a\u8fc7\u5728\u5e94\u7528\u7a0b\u5e8f <code>app</code> \u76ee\u5f55\u4e2d\u5d4c\u5957\u4e24\u4e2a\u65b0\u6587\u4ef6\u5939\uff0c\u4ece\u800c\u6dfb\u52a0\u65b0\u7684 <code>/dashboard/settings</code> \u8def\u7531\u3002</p> <ul> <li><code>/</code>: \u6839\u5206\u6bb5</li> <li><code>dashboard</code>: \u5206\u6bb5</li> <li><code>settings</code>: \u53f6\u5b50\u5206\u6bb5</li> </ul>"},{"location":"app/building-your-application/routing/#6","title":"6. \u6587\u4ef6\u7ea6\u5b9a","text":"<p>Next.js \u63d0\u4f9b\u4e86\u4e00\u7ec4\u7279\u6b8a\u6587\u4ef6\u6765\u521b\u5efa\u5728\u5d4c\u5957\u8def\u7531\u4e2d\u5177\u6709\u7279\u5b9a\u884c\u4e3a\u7684 UI\uff1a</p> \u6587\u4ef6\u6216\u6587\u4ef6\u5939 \u63cf\u8ff0 <code>layout</code> \u5206\u6bb5\u53ca\u5176\u5b50\u6bb5\u7684\u5171\u4eab UI <code>page</code> \u8def\u7531\u7684\u552f\u4e00 UI\uff0c\u5e76\u4f7f\u8def\u7531\u53ef\u88ab\u516c\u5f00\u8bbf\u95ee <code>loading</code> \u52a0\u8f7d UI <code>not-found</code> 404 \u9875\u9762 <code>error</code> \u5206\u6bb5\u53ca\u5176\u5b50\u6bb5\u7684\u9519\u8bef UI <code>global-error</code> \u5168\u5c40\u9519\u8bef UI <code>route</code> \u670d\u52a1\u7aef API \u7aef\u70b9 <code>template</code> \u4e13\u95e8\u91cd\u65b0\u6e32\u67d3\u7684\u5e03\u5c40 UI <code>default</code> \u5e76\u884c\u8def\u7531\u7684\u540e\u5907 UI <p>\u6ce8\u610f</p> <p><code>.js</code>\u3001<code>.jsx</code> \u6216 <code>.tsx</code> \u6587\u4ef6\u6269\u5c55\u540d\u53ef\u7528\u4e8e\u7279\u6b8a\u6587\u4ef6\u3002</p>"},{"location":"app/building-your-application/routing/#7","title":"7. \u7ec4\u4ef6\u5c42\u6b21","text":"<p>\u8def\u7531\u6bb5\u7684\u7279\u6b8a\u6587\u4ef6\u4e2d\u5b9a\u4e49\u7684 React \u7ec4\u4ef6\u5c06\u4f1a\u4ee5\u7279\u5b9a\u7684\u5c42\u6b21\u7ed3\u6784\u5448\u73b0\uff1a</p> <ul> <li><code>layout.js</code></li> <li><code>template.js</code></li> <li><code>error.js</code>\uff08React error boundary\uff09</li> <li><code>loading.js</code>\uff08React suspense boundary\uff09</li> <li><code>not-found.js</code>\uff08React suspense boundary\uff09</li> <li><code>page.js</code> \u6216\u8005\u5d4c\u5957\u7684 <code>layout.js</code></li> </ul> <p></p> <p>\u5728\u5d4c\u5957\u8def\u7531\u4e2d\uff0c\u5206\u6bb5\u7684\u7ec4\u4ef6\u5c06\u5d4c\u5957\u5728\u5176\u7236\u6bb5\u7684\u7ec4\u4ef6\u5185\u3002</p> <p></p>"},{"location":"app/building-your-application/routing/#8","title":"8. \u6258\u7ba1","text":"<p>\u9664\u4e86\u7279\u6b8a\u6587\u4ef6\u4e4b\u5916\uff0c\u60a8\u8fd8\u53ef\u4ee5\u9009\u62e9\u5c06\u81ea\u5df1\u7684\u6587\u4ef6\uff08\u4f8b\u5982\u7ec4\u4ef6\u3001\u6837\u5f0f\u3001\u6d4b\u8bd5\u7b49\uff09\u653e\u7f6e\u5728\u5e94\u7528\u7a0b\u5e8f\u76ee\u5f55\u7684 <code>app</code> \u6587\u4ef6\u5939\u4e2d\u3002\u8fd9\u662f\u56e0\u4e3a\u867d\u7136\u6587\u4ef6\u5939\u5b9a\u4e49\u4e86\u8def\u7531\uff0c\u4f46\u53ea\u6709 <code>page.js</code> \u6216 <code>route.js</code> \u8fd4\u56de\u7684\u5185\u5bb9\u662f\u53ef\u516c\u5f00\u8bbf\u95ee\u7684\u3002\u4f60\u53ef\u4ee5\u4e86\u89e3\u6709\u5173\u9879\u76ee\u7ec4\u7ec7\u548c\u6258\u7ba1\u7684\u66f4\u591a\u4fe1\u606f\u3002</p> <p></p>"},{"location":"app/building-your-application/routing/#9","title":"9. \u9ad8\u7ea7\u8def\u7531\u6a21\u5f0f","text":"<p>\u5e94\u7528\u8def\u7531\u5668\u8fd8\u63d0\u4f9b\u4e86\u4e00\u7ec4\u7ea6\u5b9a\u6765\u5e2e\u52a9\u60a8\u5b9e\u73b0\u66f4\u9ad8\u7ea7\u7684\u8def\u7531\u6a21\u5f0f\u3002\u8fd9\u4e9b\u5305\u62ec\uff1a</p> <ul> <li>\u5e76\u884c\u8def\u7531: \u5141\u8bb8\u6211\u4eec\u5728\u540c\u4e00\u89c6\u56fe\u4e2d\u540c\u65f6\u663e\u793a\u4e24\u4e2a\u6216\u591a\u4e2a\u53ef\u4ee5\u72ec\u7acb\u5bfc\u822a\u7684\u9875\u9762\u3002\u60a8\u53ef\u4ee5\u5c06\u5b83\u4eec\u7528\u4e8e\u5177\u6709\u81ea\u5df1\u7684\u5b50\u5bfc\u822a\u7684\u5206\u5272\u89c6\u56fe\uff0c\u4f8b\u5982\u4eea\u8868\u677f\u3002 </li> <li>\u62e6\u622a\u8def\u7531: \u5141\u8bb8\u6211\u4eec\u62e6\u622a\u4e00\u6761\u8def\u7531\u5e76\u5c06\u5176\u663e\u793a\u5728\u53e6\u4e00\u6761\u8def\u7531\u7684\u4e0a\u4e0b\u6587\u4e2d\u3002\u5f53\u4fdd\u7559\u5f53\u524d\u9875\u9762\u7684\u4e0a\u4e0b\u6587\u5f88\u91cd\u8981\u65f6\uff0c\u60a8\u53ef\u4ee5\u4f7f\u7528\u5b83\u4eec\u3002\u4f8b\u5982\u3002\u5728\u7f16\u8f91\u4e00\u4e2a\u4efb\u52a1\u6216\u5c55\u5f00\u6458\u8981\u4e2d\u7684\u4e00\u5f20\u7167\u7247\u65f6\u67e5\u770b\u6240\u6709\u4efb\u52a1\u3002</li> </ul> <p>\u8fd9\u4e9b\u6a21\u5f0f\u4f7f\u6211\u4eec\u80fd\u591f\u6784\u5efa\u66f4\u4e30\u5bcc\u3001\u66f4\u590d\u6742\u7684 UI\uff0c\u4ece\u800c\u66f4\u5bb9\u6613\u5b9e\u73b0\u5c0f\u578b\u56e2\u961f\u548c\u4e2a\u4eba\u5f00\u53d1\u4eba\u5458\u8fc7\u53bb\u96be\u4ee5\u5b9e\u73b0\u7684\u529f\u80fd\u3002</p>"},{"location":"app/building-your-application/routing/defining-routes/","title":"\u5b9a\u4e49\u8def\u7531","text":"<p>\u672c\u9875\u9762\u5c06\u6307\u5bfc\u60a8\u5982\u4f55\u5728 Next.js \u5e94\u7528\u7a0b\u5e8f\u4e2d\u5b9a\u4e49\u548c\u7ec4\u7ec7\u8def\u7531\u3002</p>"},{"location":"app/building-your-application/routing/defining-routes/#1","title":"1. \u521b\u5efa\u8def\u7531","text":"<p>Next.js \u4f7f\u7528\u57fa\u4e8e\u6587\u4ef6\u7cfb\u7edf\u7684\u8def\u7531\u5668\uff0c\u5176\u4e2d\u4f7f\u7528\u6587\u4ef6\u5939\u6765\u5b9a\u4e49\u8def\u7531\uff0c\u6bcf\u4e2a\u6587\u4ef6\u5939\u4ee3\u8868\u4e00\u4e2a\u6620\u5c04\u5230 URL \u6bb5\u7684\u8def\u7531\u6bb5\u3002\u8981\u521b\u5efa\u5d4c\u5957\u8def\u7531\uff0c\u6211\u4eec\u53ef\u4ee5\u5c06\u6587\u4ef6\u5939\u76f8\u4e92\u5d4c\u5957\u3002</p> <p></p> <p>\u4e00\u4e2a\u7279\u6b8a\u7684 page.js \u6587\u4ef6\u7528\u4e8e\u4f7f\u8def\u7531\u6bb5\u53ef\u88ab\u516c\u5f00\u8bbf\u95ee\u3002</p> <p></p> <p>\u5728\u6b64\u793a\u4f8b\u4e2d\uff0c<code>/dashboard/analytics</code> URL \u8def\u5f84\u4e0d\u53ef\u516c\u5f00\u8bbf\u95ee\uff0c\u56e0\u4e3a\u5b83\u6ca1\u6709\u76f8\u5e94\u7684 page.js \u6587\u4ef6\u3002\u8be5\u6587\u4ef6\u5939\u53ef\u7528\u4e8e\u5b58\u50a8\u7ec4\u4ef6\u3001\u6837\u5f0f\u8868\u3001\u56fe\u50cf\u6216\u5176\u4ed6\u5e76\u7f6e\u6587\u4ef6\u3002</p> <p>\u6ce8\u610f</p> <p><code>.js</code>\u3001<code>.jsx</code> \u6216 <code>.tsx</code> \u6587\u4ef6\u6269\u5c55\u540d\u53ef\u7528\u4e8e\u7279\u6b8a\u6587\u4ef6\u3002</p>"},{"location":"app/building-your-application/routing/defining-routes/#2-ui","title":"2. \u521b\u5efa UI","text":"<p>\u7279\u6b8a\u7684\u6587\u4ef6\u7ea6\u5b9a\u7528\u4e8e\u4e3a\u6bcf\u4e2a\u8def\u7531\u6bb5\u521b\u5efa UI\u3002\u6700\u5e38\u89c1\u7684\u662f\u663e\u793a\u8def\u7ebf=\u7531\u72ec\u6709\u7684 UI \u9875\u9762\uff0c\u4ee5\u53ca\u663e\u793a\u8de8\u591a\u4e2a\u8def\u7531\u5171\u4eab\u7684 UI \u5e03\u5c40\u3002\u4f8b\u5982\uff0c\u8981\u521b\u5efa\u7b2c\u4e00\u4e2a\u9875\u9762\uff0c\u8bf7\u5728\u5e94\u7528\u7a0b\u5e8f\u76ee\u5f55\u4e2d\u6dfb\u52a0 <code>page.js</code> \u6587\u4ef6\u5e76\u5bfc\u51fa React \u7ec4\u4ef6\uff1a</p> app/page.tsx<pre><code>export default function Page() {\n  return &lt;h1&gt;Hello, Next.js!&lt;/h1&gt;\n}\n</code></pre>"},{"location":"app/building-your-application/routing/linking-and-navigating/","title":"\u94fe\u63a5\u4e0e\u5bfc\u822a","text":"<p>Next.js \u6709\u56db\u79cd\u5728\u8def\u7531\u4e4b\u95f4\u5bfc\u822a\u7684\u65b9\u6cd5\uff1a</p> <ul> <li>\u4f7f\u7528 <code>&lt;Link&gt;</code> \u7ec4\u4ef6</li> <li>\u4f7f\u7528 <code>useRouter</code> \u94a9\u5b50</li> <li>\u4f7f\u7528 <code>redirect</code> \u51fd\u6570</li> <li>\u4f7f\u7528\u672c\u673a\u5386\u53f2 API</li> </ul> <p>\u672c\u9875\u5c06\u4ecb\u7ecd\u5982\u4f55\u4f7f\u7528\u6bcf\u4e2a\u9009\u9879\uff0c\u5e76\u6df1\u5165\u63a2\u8ba8\u5bfc\u822a\u7684\u5de5\u4f5c\u539f\u7406\u3002</p>"},{"location":"app/building-your-application/routing/linking-and-navigating/#1-link","title":"1. <code>&lt;Link&gt;</code> \u7ec4\u4ef6","text":"<p><code>&lt;Link&gt;</code> \u662f\u4e00\u4e2a\u5185\u7f6e\u7ec4\u4ef6\uff0c\u5b83\u6269\u5c55\u4e86 HTML <code>&lt;a&gt;</code> \u6807\u8bb0\u4ee5\u63d0\u4f9b\u8def\u7531\u4e4b\u95f4\u7684\u9884\u5148\u83b7\u53d6\u548c\u5ba2\u6237\u7aef\u5bfc\u822a\uff0c\u8fd9\u662f Next.js \u4e2d\u7684\u8def\u7531\u4e4b\u95f4\u5bfc\u822a\u7684\u4e3b\u8981\u65b9\u5f0f\u3002\u6211\u4eec\u53ef\u4ee5\u901a\u8fc7\u4ece <code>next/link</code> \u5bfc\u5165\u5b83\u5e76\u5c06 <code>href</code> \u5c5e\u6027\u4f20\u9012\u7ed9\u7ec4\u4ef6\u6765\u4f7f\u7528\u5b83\uff1a</p> app/page.jsx<pre><code>import Link from 'next/link'\n\nexport default function Page() {\n  return &lt;Link href=\"/dashboard\"&gt;Dashboard&lt;/Link&gt;\n}\n</code></pre> <p>\u60a8\u8fd8\u53ef\u4ee5\u5c06\u5176\u4ed6\u53ef\u9009\u5c5e\u6027\u4f20\u9012\u7ed9 <code>&lt;Link&gt;</code>\u3002\u6709\u5173\u66f4\u591a\u4fe1\u606f\uff0c\u8bf7\u53c2\u9605 API \u53c2\u8003\u3002</p>"},{"location":"app/building-your-application/routing/linking-and-navigating/#11","title":"1.1 \u793a\u4f8b\uff1a\u94fe\u63a5\u5230\u52a8\u6001\u6bb5","text":"<p>\u5f53\u94fe\u63a5\u5230\u52a8\u6001\u6bb5\u65f6\uff0c\u60a8\u53ef\u4ee5\u4f7f\u7528\u6a21\u677f\u6587\u5b57\u548c\u63d2\u503c \u6765\u751f\u6210\u94fe\u63a5\u5217\u8868\u3002\u4f8b\u5982\u751f\u6210\u535a\u5ba2\u6587\u7ae0\u5217\u8868\uff1a</p> app/blog/PostList.js<pre><code>import Link from 'next/link';\n\nexport default function PostList({ posts }) {\n  return (\n    &lt;ul&gt;\n      {posts.map((post) =&gt; (\n        &lt;li key={post.id}&gt;\n          &lt;Link href={`/blog/${post.slug}`}&gt;{post.title}&lt;/Link&gt;\n        &lt;/li&gt;\n      ))}\n    &lt;/ul&gt;\n  )\n}\n</code></pre>"},{"location":"app/building-your-application/routing/linking-and-navigating/#12","title":"1.2 \u793a\u4f8b\uff1a\u68c0\u67e5\u6d3b\u8dc3\u94fe\u63a5","text":"<p>\u6211\u4eec\u53ef\u4ee5\u4f7f\u7528 <code>usePathname()</code> \u6765\u786e\u5b9a\u94fe\u63a5\u662f\u5426\u5904\u4e8e\u6d3b\u52a8\u72b6\u6001\u3002\u4f8b\u5982\uff0c\u8981\u5c06\u7c7b\u6dfb\u52a0\u5230\u6d3b\u52a8\u94fe\u63a5\uff0c\u60a8\u53ef\u4ee5\u68c0\u67e5\u5f53\u524d\u8def\u5f84\u540d <code>pathname</code> \u662f\u5426\u4e0e\u94fe\u63a5\u7684 <code>href</code> \u5339\u914d\uff1a</p> app/components/links.js<pre><code>'use client'\n\nimport { usePathname } from 'next/navigation'\nimport Link from 'next/link'\n\nexport function Links() {\n  const pathname = usePathname()\n\n  return (\n    &lt;nav&gt;\n      &lt;ul&gt;\n        &lt;li&gt;\n          &lt;Link className={`link ${pathname === '/' ? 'active' : ''}`} href=\"/\"&gt;\n            Home\n          &lt;/Link&gt;\n        &lt;/li&gt;\n        &lt;li&gt;\n          &lt;Link\n            className={`link ${pathname === '/about' ? 'active' : ''}`}\n            href=\"/about\"\n          &gt;\n            About\n          &lt;/Link&gt;\n        &lt;/li&gt;\n      &lt;/ul&gt;\n    &lt;/nav&gt;\n  )\n}\n</code></pre>"},{"location":"app/building-your-application/routing/linking-and-navigating/#13-id","title":"1.3 \u793a\u4f8b\uff1a\u6eda\u52a8\u5230 <code>id</code> \u4f4d\u7f6e","text":"<p>Next.js \u5e94\u7528\u8def\u7531\u5668\u7684\u9ed8\u8ba4\u884c\u4e3a\u662f\u6eda\u52a8\u5230\u65b0\u8def\u7531\u7684\u9876\u90e8\u6216\u4fdd\u6301\u6eda\u52a8\u4f4d\u7f6e\u4ee5\u8fdb\u884c\u5411\u540e\u548c\u5411\u524d\u5bfc\u822a\u3002\u5982\u679c\u60f3\u6eda\u52a8\u5230\u5bfc\u822a\u4e0a\u7684\u7279\u5b9a ID\uff0c\u60a8\u53ef\u4ee5\u5728 URL \u540e\u9644\u52a0 <code>#</code> \u54c8\u5e0c\u94fe\u63a5\uff0c\u6216\u8005\u4ec5\u5c06\u54c8\u5e0c\u94fe\u63a5\u4f20\u9012\u7ed9 <code>href</code> \u5c5e\u6027\u3002\u8fd9\u662f\u53ef\u884c\u7684\uff0c\u56e0\u4e3a <code>&lt;Link&gt;</code> \u6700\u7ec8\u662f\u88ab\u6e32\u67d3\u4e3a <code>&lt;a&gt;</code> \u5143\u7d20\u3002</p> <pre><code>&lt;Link href=\"/dashboard#settings\"&gt;Settings&lt;/Link&gt;\n\n// Output\n&lt;a href=\"/dashboard#settings\"&gt;Settings&lt;/a&gt;\n</code></pre> <p>\u8865\u5145</p> <p>\u5982\u679c\u5bfc\u822a\u65f6\u5728\u89c6\u53e3\u4e2d\u770b\u4e0d\u5230 Next.js\uff0c\u5219 Next.js \u5c06\u6eda\u52a8\u5230\u8be5\u9875\u9762\u3002</p>"},{"location":"app/building-your-application/routing/linking-and-navigating/#14","title":"1.4 \u793a\u4f8b\uff1a\u7981\u7528\u6eda\u52a8\u6062\u590d","text":"<p>Next.js \u5e94\u7528\u8def\u7531\u5668\u7684\u9ed8\u8ba4\u884c\u4e3a\u662f\u6eda\u52a8\u5230\u65b0\u8def\u7531\u7684\u9876\u90e8\u6216\u4fdd\u6301\u6eda\u52a8\u4f4d\u7f6e\u4ee5\u8fdb\u884c\u5411\u540e\u548c\u5411\u524d\u5bfc\u822a\u3002\u5982\u679c\u60a8\u60f3\u7981\u7528\u6b64\u884c\u4e3a\uff0c\u53ef\u4ee5\u5c06 <code>scroll={false}</code> \u4f20\u9012\u7ed9 <code>&lt;Link&gt;</code> \u7ec4\u4ef6\uff0c\u6216\u8005\u5c06 <code>scroll: false</code> \u4f20\u9012\u7ed9 <code>router.push()</code> \u6216 <code>router.replace()</code>\u3002</p> \u4f7f\u7528 <code>Link</code>\u4f7f\u7528 <code>useRouter</code> <pre><code>// next/link\n&lt;Link href=\"/dashboard\" scroll={false}&gt;\n  Dashboard\n&lt;/Link&gt;\n</code></pre> <pre><code>// useRouter\nimport { useRouter } from 'next/navigation'\n\nconst router = useRouter()\n\nrouter.push('/dashboard', { scroll: false })\n</code></pre>"},{"location":"app/building-your-application/routing/linking-and-navigating/#2-userouter","title":"2. <code>useRouter</code> \u94a9\u5b50","text":"<p><code>useRouter</code> \u6302\u94a9\u5141\u8bb8\u60a8\u4ee5\u7f16\u7a0b\u65b9\u5f0f\u66f4\u6539\u6765\u81ea\u5ba2\u6237\u7aef\u7ec4\u4ef6 \u7684\u8def\u7531\u3002</p> app/page.jsx<pre><code>'use client';\n\nimport { useRouter } from 'next/navigaition';\n\nexport default function Page() {\n\n}\n</code></pre>"},{"location":"app/building-your-application/routing/linking-and-navigating/#3-redirect","title":"3. <code>redirect</code> \u51fd\u6570","text":""},{"location":"app/building-your-application/routing/linking-and-navigating/#4-api","title":"4. \u4f7f\u7528\u672c\u673a\u5386\u53f2 API","text":""},{"location":"app/building-your-application/routing/linking-and-navigating/#5","title":"5. \u8def\u7531\u548c\u5bfc\u822a\u7684\u5de5\u4f5c\u539f\u7406","text":""},{"location":"app/building-your-application/routing/linking-and-navigating/#51","title":"5.1 \u4ee3\u7801\u5206\u5272","text":""},{"location":"app/building-your-application/routing/linking-and-navigating/#52","title":"5.2 \u9884\u5148\u83b7\u53d6","text":""},{"location":"app/building-your-application/routing/linking-and-navigating/#53","title":"5.3 \u7f13\u5b58","text":""},{"location":"app/building-your-application/routing/linking-and-navigating/#54","title":"5.4 \u5c40\u90e8\u6e32\u67d3","text":""},{"location":"app/building-your-application/routing/linking-and-navigating/#55","title":"5.5 \u8f6f\u5bfc\u822a","text":""},{"location":"app/building-your-application/routing/linking-and-navigating/#56","title":"5.6 \u540e\u9000\u548c\u524d\u8fdb\u5bfc\u822a","text":""},{"location":"app/building-your-application/routing/linking-and-navigating/#57-page-app","title":"5.7 <code>/page</code> \u548c <code>/app</code> \u4e4b\u95f4\u7684\u8def\u7531","text":""},{"location":"app/building-your-application/routing/pages-and-layouts/","title":"\u9875\u9762\u548c\u5e03\u5c40","text":"<p>\u7279\u6b8a\u6587\u4ef6 <code>layout.js</code>\u3001<code>page.js</code> \u548c <code>template.js</code> \u5141\u8bb8\u6211\u4eec\u4e3a\u8def\u7531\u521b\u5efa UI\u3002\u672c\u9875\u5c06\u4ecb\u7ecd\u8fd9\u4e9b\u7279\u6b8a\u6587\u4ef6\u4ee5\u53ca\u4f7f\u7528\u65b9\u6cd5\u3002</p>"},{"location":"app/building-your-application/routing/pages-and-layouts/#1","title":"1. \u9875\u9762","text":"<p>\u9875\u9762\u662f\u8def\u7531\u7279\u6709\u7684 UI\uff0c\u6211\u4eec\u53ef\u4ee5\u9ed8\u8ba4\u4ece <code>page.js</code> \u6587\u4ef6\u5bfc\u51fa\u7ec4\u4ef6\u6765\u5b9a\u4e49\u9875\u9762\u3002\u4f8b\u5982\uff0c\u8981\u521b\u5efa\u7d22\u5f15\u9875\u9762 <code>index</code>\uff0c\u8bf7\u5728\u5e94\u7528\u7a0b\u5e8f\u76ee\u5f55 <code>app</code> \u4e2d\u6dfb\u52a0 <code>page.js</code> \u6587\u4ef6\uff1a</p> <p></p> app/page.tsx<pre><code>// `app/page.tsx` is the UI for the `/` URL\nexport default function Page() {\n  return &lt;h1&gt;Hello, Home page!&lt;/h1&gt;\n}\n</code></pre> <p>\u7136\u540e\uff0c\u8981\u521b\u5efa\u66f4\u591a\u9875\u9762\uff0c\u8bf7\u521b\u5efa\u4e00\u4e2a\u6587\u4ef6\u5939\u5e76\u5728\u5176\u4e2d\u6dfb\u52a0 <code>page.js</code> \u6587\u4ef6\u3002\u4f8b\u5982\uff0c\u8981\u4e3a <code>/dashboard</code> \u8def\u7531\u521b\u5efa\u9875\u9762\uff0c\u8bf7\u521b\u5efa\u4e00\u4e2a\u540d\u4e3a <code>dashboard</code> \u7684\u65b0\u6587\u4ef6\u5939\uff0c\u5e76\u5728\u5176\u4e2d\u6dfb\u52a0 <code>page.js</code> \u6587\u4ef6\uff1a</p> app/dashboard/page.Jsx<pre><code>// `app/dashboard/page.tsx` is the UI for the `/dashboard` URL\nexport default function Page() {\n  return &lt;h1&gt;Hello, Dashboard Page!&lt;/h1&gt;\n}\n</code></pre> <p>\u8865\u5145</p> <ul> <li><code>.js</code>\u3001<code>.jsx</code> \u6216 <code>.tsx</code> \u6587\u4ef6\u6269\u5c55\u540d\u53ef\u7528\u4e8e\u9875\u9762</li> <li>\u9875\u9762\u59cb\u7ec8\u662f\u8def\u7531\u5b50\u6811\u7684\u53f6\u5b50\u8282\u70b9</li> <li>\u9700\u8981 <code>page.js</code> \u6587\u4ef6\u624d\u80fd\u516c\u5f00\u8bbf\u95ee\u8def\u7531\u6bb5</li> <li>\u9ed8\u8ba4\u60c5\u51b5\u4e0b\uff0c\u9875\u9762\u662f\u670d\u52a1\u7aef\u7ec4\u4ef6\uff0c\u4f46\u4e5f\u53ef\u4ee5\u8bbe\u7f6e\u4e3a\u5ba2\u6237\u7aef\u7ec4\u4ef6</li> <li>\u9875\u9762\u53ef\u4ee5\u83b7\u53d6\u6570\u636e\uff0c\u67e5\u770b\u6570\u636e\u83b7\u53d6\u90e8\u5206\u4ee5\u83b7\u53d6\u66f4\u591a\u4fe1\u606f</li> </ul>"},{"location":"app/building-your-application/routing/pages-and-layouts/#2","title":"2. \u5e03\u5c40","text":"<p>\u5e03\u5c40\u662f\u5728\u591a\u4e2a\u8def\u7531\u4e4b\u95f4\u5171\u4eab\u7684 UI\u3002\u5728\u5bfc\u822a\u65f6\uff0c\u5e03\u5c40\u5c06\u4fdd\u7559\u72b6\u6001\u4ee5\u53ca\u4ea4\u4e92\u6027\u5e76**\u4e0d\u4f1a\u91cd\u65b0\u6e32\u67d3**\u3002\u5f53\u7136\uff0c\u5e03\u5c40\u4e5f\u53ef\u4ee5\u8fdb\u884c\u5d4c\u5957\u3002</p> <p>\u60a8\u53ef\u4ee5\u9ed8\u8ba4\u4ece <code>layout.js</code> \u6587\u4ef6\u5bfc\u51fa React \u7ec4\u4ef6\u6765\u5b9a\u4e49\u5e03\u5c40\u3002\u8be5\u7ec4\u4ef6\u5e94\u63a5\u53d7\u4e00\u4e2a <code>children</code> \u5c5e\u6027\uff0c\u8be5\u5c5e\u6027\u5c06\u5728\u6e32\u67d3\u671f\u95f4\u586b\u5145\u5b50\u5e03\u5c40\uff08\u5982\u679c\u5b58\u5728\uff09\u6216\u9875\u9762\u3002</p> <p>\u4f8b\u5982\uff0c<code>/dashboard</code> \u548c <code>/dashboard/settings</code> \u9875\u9762\u5171\u4eab\u540c\u4e00\u4e2a\u5e03\u5c40\uff1a</p> <p></p> app/dashboard/layout.jsx<pre><code>export default function DashboardLayout({ children }) { // will be a page or nested layout\n  return (\n    &lt;section&gt;\n      {/* Include shared UI here e.g. a header or sidebar */}\n      &lt;nav&gt;&lt;/nav&gt;\n\n      {children}\n    &lt;/section&gt;\n  )\n}\n</code></pre>"},{"location":"app/building-your-application/routing/pages-and-layouts/#21","title":"2.1 \u6839\u8282\u70b9\u5e03\u5c40","text":"<p>\u6839\u5e03\u5c40\u5728\u5e94\u7528\u7a0b\u5e8f\u76ee\u5f55 <code>app</code> \u7684\u9876\u5c42\u5b9a\u4e49\u5e76\u9002\u7528\u4e8e\u6240\u6709\u8def\u7531\u3002\u6b64\u5e03\u5c40\u662f\u5fc5\u9700\u7684\uff0c\u5e76\u4e14\u5fc5\u987b\u5305\u542b <code>html</code> \u548c <code>body</code> \u6807\u8bb0\uff0c\u5141\u8bb8\u60a8\u4fee\u6539\u4ece\u670d\u52a1\u5668\u8fd4\u56de\u7684\u521d\u59cb HTML\u3002</p> app/layout.js<pre><code>export default function RootLayout({ children }) {\n  return (\n    &lt;html lang=\"en\"&gt;\n      &lt;body&gt;\n        {/* Layout UI */}\n        &lt;main&gt;{children}&lt;/main&gt;\n      &lt;/body&gt;\n    &lt;/html&gt;\n  )\n}\n</code></pre>"},{"location":"app/building-your-application/routing/pages-and-layouts/#22","title":"2.2 \u5d4c\u5957\u5e03\u5c40","text":"<p>\u9ed8\u8ba4\u60c5\u51b5\u4e0b\uff0c\u6587\u4ef6\u5939\u5c42\u6b21\u7ed3\u6784\u4e2d\u7684\u5e03\u5c40\u662f\u5d4c\u5957\u7684\uff0c\u8fd9\u610f\u5473\u7740\u5b83\u4eec\u901a\u8fc7 <code>children</code> \u5c5e\u6027\u5305\u88c5\u5b50\u5e03\u5c40\u3002\u6211\u4eec\u53ef\u4ee5\u901a\u8fc7\u5728\u7279\u5b9a\u8def\u7531\u6bb5\uff08\u6587\u4ef6\u5939\uff09\u5185\u6dfb\u52a0 <code>layout.js</code> \u6765\u5d4c\u5957\u5e03\u5c40\u3002\u4f8b\u5982\uff0c\u8981\u4e3a <code>/dashboard</code> \u8def\u7531\u521b\u5efa\u5e03\u5c40\uff0c\u8bf7\u5728 <code>dashboard</code> \u6587\u4ef6\u5939\u4e2d\u6dfb\u52a0\u4e00\u4e2a\u65b0\u7684 <code>layout.js</code> \u6587\u4ef6\uff1a</p> <p></p> app/dashboard/layout.js<pre><code>export default function DashboardLayout({ children }) {\n  return &lt;section&gt;{children}&lt;/section&gt;\n}\n</code></pre> <p>\u5982\u679c\u60a8\u8981\u7ec4\u5408\u4e0a\u9762\u7684\u4e24\u4e2a\u5e03\u5c40\uff0c\u6839\u5e03\u5c40 (<code>app/layout.js</code>) \u5c06\u5305\u88c5\u4eea\u8868\u677f\u5e03\u5c40 (<code>app/dashboard/layout.js</code>)\uff0c\u540e\u8005\u4f1a\u5c06\u8def\u7531\u6bb5\u5305\u88c5\u5728 <code>app/dashboard/*</code> \u5185\u3002</p> <p>\u8fd9\u4e24\u4e2a\u5e03\u5c40\u5c06\u8fd9\u6837\u5d4c\u5957\uff1a</p> <p></p> <p>\u8865\u5145</p> <ul> <li><code>.js</code>\u3001<code>.jsx</code> \u6216 <code>.tsx</code> \u6587\u4ef6\u6269\u5c55\u540d\u53ef\u7528\u4e8e\u5e03\u5c40\u3002</li> <li>\u53ea\u6709\u6839\u5e03\u5c40\u53ef\u4ee5\u5305\u542b <code>&lt;html&gt;</code> \u548c <code>&lt;body&gt;</code> \u6807\u7b7e\u3002</li> <li>\u5f53 <code>layout.js</code> \u548c <code>page.js</code> \u6587\u4ef6\u5b9a\u4e49\u5728\u540c\u4e00\u4e2a\u6587\u4ef6\u5939\u4e2d\u65f6\uff0c\u5e03\u5c40\u5c06\u5305\u88f9\u9875\u9762\u3002</li> <li>\u9ed8\u8ba4\u60c5\u51b5\u4e0b\uff0c\u5e03\u5c40\u662f\u670d\u52a1\u7aef\u7ec4\u4ef6\uff0c\u4f46\u53ef\u4ee5\u8bbe\u7f6e\u4e3a\u5ba2\u6237\u7aef\u7ec4\u4ef6\u3002</li> <li>\u5e03\u5c40\u53ef\u4ee5\u83b7\u53d6\u6570\u636e\u3002\u67e5\u770b\u6570\u636e\u83b7\u53d6\u90e8\u5206\u4ee5\u83b7\u53d6\u66f4\u591a\u4fe1\u606f\u3002</li> <li>\u5728\u7236\u5e03\u5c40\u4e0e\u5176\u5b50\u5e03\u5c40\u4e4b\u95f4\u4f20\u9012\u6570\u636e\u662f\u4e0d\u53ef\u80fd\u7684\u3002\u4f46\u662f\uff0c\u60a8\u53ef\u4ee5\u5728\u4e00\u4e2a\u8def\u7531\u4e2d\u591a\u6b21\u83b7\u53d6\u76f8\u540c\u7684\u6570\u636e\uff0cReact \u4f1a\u81ea\u52a8\u5220\u9664\u8bf7\u6c42\u7684\u91cd\u590d\u6570\u636e\uff0c\u800c\u4e0d\u4f1a\u5f71\u54cd\u6027\u80fd\u3002</li> <li>\u5e03\u5c40\u65e0\u6cd5\u901a\u8fc7\u8def\u7531\u6bb5\u8fdb\u884c\u8bbf\u95ee\u3002\u8981\u8bbf\u95ee\u6240\u6709\u8def\u7531\u6bb5\uff0c\u60a8\u53ef\u4ee5\u5728\u5ba2\u6237\u7aef\u7ec4\u4ef6\u4e2d\u4f7f\u7528 <code>useSelectedLayoutSegment</code> \u6216 <code>useSelectedLayoutSegments</code>\u3002</li> <li>\u5728\u5171\u4eab\u5e03\u5c40\u5916\uff0c\u6211\u4eec\u53ef\u4ee5\u4f7f\u7528\u8def\u7531\u7ec4\u9009\u62e9\u7279\u5b9a\u8def\u7531\u6bb5\u3002</li> <li>\u60a8\u53ef\u4ee5\u4f7f\u7528\u8def\u7531\u7ec4\u6765\u521b\u5efa\u591a\u4e2a\u6839\u5e03\u5c40\uff0c\u8bf7\u53c2\u9605\u6b64\u5904\u7684\u793a\u4f8b\u3002</li> <li>\u4ece\u9875\u9762\u76ee\u5f55 <code>page</code> \u8fc1\u79fb\uff1a\u6839\u5e03\u5c40\u66ff\u6362 <code>_app.js</code> \u548c <code>_document.js</code> \u6587\u4ef6\uff0c\u66f4\u591a\u8bf7\u67e5\u770b\u8fc1\u79fb\u6307\u5357\u3002</li> </ul>"},{"location":"app/building-your-application/routing/pages-and-layouts/#3","title":"3. \u6a21\u677f","text":"<p>\u6a21\u677f\u4e0e\u5e03\u5c40\u7c7b\u4f3c\uff0c\u5b83\u4eec\u5305\u88c5\u6bcf\u4e2a\u5b50\u5e03\u5c40\u6216\u9875\u9762\u3002\u4e0e\u8de8\u8def\u7531\u6301\u7eed\u5b58\u5728\u5e76\u7ef4\u62a4\u72b6\u6001\u7684\u5e03\u5c40\u4e0d\u540c\uff0c\u6a21\u677f\u4f1a\u4e3a\u5bfc\u822a\u4e0a\u7684\u6bcf\u4e2a\u5b50\u7ea7\u521b\u5efa\u4e00\u4e2a\u65b0\u5b9e\u4f8b\u3002\u8fd9\u610f\u5473\u7740\u5f53\u7528\u6237\u5728\u5171\u4eab\u6a21\u677f\u7684\u8def\u7531\u4e4b\u95f4\u5bfc\u822a\u65f6\uff0c\u5c06\u5b89\u88c5\u7ec4\u4ef6\u7684\u65b0\u5b9e\u4f8b\uff0c\u91cd\u65b0\u521b\u5efa DOM \u5143\u7d20\uff0c\u4e0d\u4fdd\u7559\u72b6\u6001\uff0c\u5e76\u4e14\u91cd\u65b0\u540c\u6b65\u6548\u679c\u3002</p> <p>\u5728\u67d0\u4e9b\u60c5\u51b5\u4e0b\uff0c\u60a8\u53ef\u80fd\u9700\u8981\u8fd9\u4e9b\u7279\u5b9a\u884c\u4e3a\uff0c\u800c\u6a21\u677f\u5c06\u662f\u6bd4\u5e03\u5c40\u66f4\u5408\u9002\u7684\u9009\u62e9\u3002\u4f8b\u5982\uff1a</p> <ul> <li>\u4f9d\u8d56\u4e8e <code>useEffect</code>\uff08\u4f8b\u5982\u8bb0\u5f55\u9875\u9762\u89c6\u56fe\uff09\u548c <code>useState</code>\uff08\u4f8b\u5982\u6bcf\u9875\u53cd\u9988\u8868\uff09\u7684\u529f\u80fd\u3002</li> <li>\u66f4\u6539\u9ed8\u8ba4\u6846\u67b6\u884c\u4e3a\u3002\u4f8b\u5982\uff0c\u5e03\u5c40\u5185\u7684 Suspense Boundaries \u4ec5\u5728\u7b2c\u4e00\u6b21\u52a0\u8f7d\u5e03\u5c40\u65f6\u663e\u793a\u56de\u9000\uff0c\u800c\u4e0d\u662f\u5728\u5207\u6362\u9875\u9762\u65f6\u663e\u793a\u56de\u9000\u3002\u5bf9\u4e8e\u6a21\u677f\uff0c\u540e\u5907\u663e\u793a\u5728\u6bcf\u4e2a\u5bfc\u822a\u4e0a\u3002</li> </ul> <p>\u53ef\u4ee5\u901a\u8fc7\u4ece <code>template.js</code> \u6587\u4ef6\u5bfc\u51fa\u9ed8\u8ba4\u7684 React \u7ec4\u4ef6\u6765\u5b9a\u4e49\u6a21\u677f\uff0c\u8be5\u7ec4\u4ef6\u5e94\u8be5\u63a5\u53d7\u4e00\u4e2a <code>children</code>\u5c5e\u6027\u3002</p> <p></p> app/template.js<pre><code>export default function Template({ children }) {\n  return &lt;div&gt;{children}&lt;/div&gt;\n}\n</code></pre> <p>\u5728\u5d4c\u5957\u65b9\u9762\uff0c<code>template.js</code> \u5728\u5e03\u5c40\u53ca\u5176\u5b50\u5e03\u5c40\u4e4b\u95f4\u5448\u73b0\u3002\u8fd9\u662f\u4e00\u4e2a\u7b80\u5316\u7684\u8f93\u51fa\uff1a</p> <pre><code>&lt;Layout&gt;\n  {/* Note that the template is given a unique key. */}\n  &lt;Template key={routeParam}&gt;{children}&lt;/Template&gt;\n&lt;/Layout&gt;\n</code></pre>"},{"location":"app/building-your-application/routing/pages-and-layouts/#4","title":"4. \u5143\u6570\u636e","text":"<p>\u5728\u5e94\u7528\u7a0b\u5e8f\u76ee\u5f55 <code>app</code> \u4e2d\uff0c\u60a8\u53ef\u4ee5\u4f7f\u7528\u5143\u6570\u636e API \u4fee\u6539 <code>&lt;head&gt;</code> HTML \u5143\u7d20\uff0c\u4f8b\u5982 <code>&lt;title&gt;</code> \u548c <code>&lt;meta&gt;</code>\u3002</p> <p>\u53ef\u4ee5\u901a\u8fc7\u5728 <code>layout.js</code> \u6216 <code>page.js</code> \u6587\u4ef6\u4e2d\u5bfc\u51fa<code>metadata</code> \u5bf9\u8c61\u6216 <code>generateMetadata</code> \u51fd\u6570\u6765\u5b9a\u4e49\u5143\u6570\u636e\u3002</p> app/page.js<pre><code>export const metadata = {\n  title: 'Next.js',\n}\n\nexport default function Page() {\n  return '...'\n}\n</code></pre> <p>\u8865\u5145</p> <p>\u60a8\u4e0d\u5e94\u8be5\u624b\u52a8\u5c06 <code>&lt;head&gt;</code> \u6807\u7b7e\uff08\u4f8b\u5982 <code>&lt;title&gt;</code> \u548c <code>&lt;meta&gt;</code>\uff09\u6dfb\u52a0\u5230\u6839\u5e03\u5c40\u3002\u76f8\u53cd\uff0c\u60a8\u5e94\u8be5\u4f7f\u7528\u5143\u6570\u636e API\uff0c\u5b83\u4f1a\u81ea\u52a8\u5904\u7406\u9ad8\u7ea7\u8981\u6c42\uff0c\u4f8b\u5982\u6d41\u5f0f\u4f20\u8f93\u548c\u5220\u9664\u91cd\u590d <code>&lt;head&gt;</code> \u5143\u7d20\u3002</p> <p>\u4f60\u53ef\u4ee5\u5728 API \u53c2\u8003\u4e2d\u4e86\u89e3\u6709\u5173\u53ef\u7528\u5143\u6570\u636e\u9009\u9879\u7684\u66f4\u591a\u4fe1\u606f\u3002</p>"},{"location":"app/building-your-application/routing/pages/","title":"\u9875\u9762","text":"<p>\u9875\u9762\u662f\u8def\u7531\u7279\u6709\u7684 UI\uff0c\u6211\u4eec\u53ef\u4ee5\u9ed8\u8ba4\u4ece <code>page.js</code> \u6587\u4ef6\u5bfc\u51fa\u7ec4\u4ef6\u6765\u5b9a\u4e49\u9875\u9762\u3002\u4f8b\u5982\uff0c\u8981\u521b\u5efa\u7d22\u5f15\u9875\u9762 <code>index</code>\uff0c\u8bf7\u5728\u5e94\u7528\u7a0b\u5e8f\u76ee\u5f55 <code>app</code> \u4e2d\u6dfb\u52a0 <code>page.js</code> \u6587\u4ef6\uff1a</p> <p></p> app/page.tsx<pre><code>// `app/page.tsx` is the UI for the `/` URL\nexport default function Page() {\n  return &lt;h1&gt;Hello, Home page!&lt;/h1&gt;\n}\n</code></pre> <p>\u7136\u540e\uff0c\u8981\u521b\u5efa\u66f4\u591a\u9875\u9762\uff0c\u8bf7\u521b\u5efa\u4e00\u4e2a\u6587\u4ef6\u5939\u5e76\u5728\u5176\u4e2d\u6dfb\u52a0 <code>page.js</code> \u6587\u4ef6\u3002\u4f8b\u5982\uff0c\u8981\u4e3a <code>/dashboard</code> \u8def\u7531\u521b\u5efa\u9875\u9762\uff0c\u8bf7\u521b\u5efa\u4e00\u4e2a\u540d\u4e3a <code>dashboard</code> \u7684\u65b0\u6587\u4ef6\u5939\uff0c\u5e76\u5728\u5176\u4e2d\u6dfb\u52a0 <code>page.js</code> \u6587\u4ef6\uff1a</p> app/dashboard/page.tsx<pre><code>// `app/dashboard/page.tsx` is the UI for the `/dashboard` URL\nexport default function Page() {\n  return &lt;h1&gt;Hello, Dashboard Page!&lt;/h1&gt;\n}\n</code></pre> <p>\u8865\u5145</p> <ul> <li><code>.js</code>\u3001<code>.jsx</code> \u6216 <code>.tsx</code> \u6587\u4ef6\u6269\u5c55\u540d\u53ef\u7528\u4e8e\u9875\u9762</li> <li>\u9875\u9762\u59cb\u7ec8\u662f\u8def\u7531\u5b50\u6811\u7684\u53f6\u5b50\u8282\u70b9</li> <li>\u9700\u8981 <code>page.js</code> \u6587\u4ef6\u624d\u80fd\u516c\u5f00\u8bbf\u95ee\u8def\u7531\u6bb5</li> <li>\u9ed8\u8ba4\u60c5\u51b5\u4e0b\uff0c\u9875\u9762\u662f\u670d\u52a1\u7aef\u7ec4\u4ef6\uff0c\u4f46\u4e5f\u53ef\u4ee5\u8bbe\u7f6e\u4e3a\u5ba2\u6237\u7aef\u7ec4\u4ef6</li> <li>\u9875\u9762\u53ef\u4ee5\u83b7\u53d6\u6570\u636e\uff0c\u67e5\u770b\u6570\u636e\u83b7\u53d6\u90e8\u5206\u4ee5\u83b7\u53d6\u66f4\u591a\u4fe1\u606f</li> </ul>"},{"location":"blog/","title":"Blog","text":""},{"location":"getting-started/installation/","title":"\u5b89\u88c5","text":""},{"location":"getting-started/installation/#1","title":"1. \u81ea\u52a8\u5b89\u88c5","text":""},{"location":"getting-started/installation/#2","title":"2. \u624b\u52a8\u5b89\u88c5","text":""},{"location":"getting-started/installation/#3","title":"3. \u8fd0\u884c\u5f00\u53d1\u670d\u52a1\u5668","text":"\u8865\u5145 <p>\u670d\u52a1\u5f00\u542f\u540e\uff0c\u6253\u5f00\u63a7\u5236\u53f0\u53d1\u73b0\u51fa\u73b0\u4ee5\u4e0b\u8b66\u544a\uff1a</p> Console<pre><code>Warning: Extra attributes from the server: class\n...\n</code></pre> <p>\u8fd9\u662f\u56e0\u4e3a\u6d4f\u89c8\u5668\u5b89\u88c5\u4e86\u4e00\u4e9b\u63d2\u4ef6\u5bfc\u81f4\u7684\uff0c\u5982\u679c\u60f3\u8981\u53bb\u9664\u6389\u8be5\u8b66\u544a\uff0c\u5728\u5982\u4e0b\u6587\u4ef6\u4e2d\u6dfb\u52a0 <code>suppressHydrationWarning={true}</code></p> src/app/layout.tsx<pre><code>&lt;html lang=\"en\" suppressHydrationWarning={true}&gt;\n    &lt;body\n    className={`${geistSans.variable} ${geistMono.variable} antialiased`}\n  &gt;\n    {children}\n&lt;/html&gt;\n</code></pre> <p>\u901a\u5e38\u60c5\u51b5\u4e0b\uff0c\u4e0d\u5efa\u8bae\u5173\u95ed\u6b64\u8b66\u544a\u3002</p>"},{"location":"getting-started/project-structure/","title":"\u9879\u76ee\u7ed3\u6784","text":"<p>\u6b64\u9875\u9762\u6982\u8ff0\u4e86 Next.js \u5e94\u7528\u7a0b\u5e8f\u7684\u9879\u76ee\u7ed3\u6784\uff0c\u5b83\u6db5\u76d6\u4e86\u5e94\u7528\u7a0b\u5e8f\u548c\u9875\u9762\u76ee\u5f55\u4e2d\u7684\u9876\u5c42\u6587\u4ef6\u548c\u6587\u4ef6\u5939\u3001\u914d\u7f6e\u6587\u4ef6\u4ee5\u53ca\u8def\u7531\u7ea6\u5b9a\u3002</p>"},{"location":"getting-started/project-structure/#1","title":"1. \u9876\u5c42\u6587\u4ef6\u5939","text":"<p>\u9876\u7ea7\u6587\u4ef6\u5939\u7528\u4e8e\u7ec4\u7ec7\u5e94\u7528\u7a0b\u5e8f\u7684\u4ee3\u7801\u548c\u9759\u6001\u8d44\u6e90\uff0c\u901a\u5e38\u6709 2 \u79cdh\u6784\u5efa\u5f62\u5f0f\uff1a\u5e26 <code>src</code> \u548c\u4e0d\u5e26 <code>src</code>\u3002</p> <p></p> <p></p> \u6587\u4ef6\u5939 \u63cf\u8ff0 <code>app</code> App Router <code>pages</code> Pages Router <code>public</code> \u9759\u6001\u8d44\u6e90 <code>src</code> \u53ef\u9009\u7684\u5e94\u7528\u7a0b\u5e8f\u6e90\u6587\u4ef6\u5939"},{"location":"getting-started/project-structure/#2","title":"2. \u9876\u5c42\u6587\u4ef6","text":"<p>\u9876\u5c42\u6587\u4ef6\u7528\u4e8e\u914d\u7f6e\u5e94\u7528\u7a0b\u5e8f\u3001\u7ba1\u7406\u4f9d\u8d56\u9879\u3001\u8fd0\u884c\u4e2d\u95f4\u4ef6\u3001\u96c6\u6210\u76d1\u89c6\u5de5\u5177\u4ee5\u53ca\u5b9a\u4e49\u73af\u5883\u53d8\u91cf\u3002</p> \u6587\u4ef6 \u63cf\u8ff0 next.config.js Next.js \u914d\u7f6e\u6587\u4ef6 package.json \u9879\u76ee\u4f9d\u8d56\u9879\u548c\u8fd0\u884c\u811a\u672c instrumentation.ts OpenTelemetry \u548c Instrumentation \u6587\u4ef6 middleware.ts \u4e2d\u95f4\u4ef6\u6587\u4ef6 .env \u73af\u5883\u53d8\u91cf\u6587\u4ef6 .env.local \u672c\u5730\u73af\u5883\u53d8\u91cf\u6587\u4ef6 .env.production \u751f\u4ea7\u73af\u5883\u53d8\u91cf\u6587\u4ef6 .env.development \u751f\u4ea7\u73af\u5883\u53d8\u91cf\u6587\u4ef6 [.eslintrc.json](https://nextjs.org/docs/app/building-your-application/configuring/eslint ESLint \u914d\u7f6e\u6587\u4ef6 .gitignore Git \u5ffd\u7565\u6587\u4ef6 next-env.d.ts TypeScript \u7c7b\u578b\u5b9a\u4e49\u6587\u4ef6 tsconfig.json TypeScript \u914d\u7f6e\u6587\u4ef6 jsconfig.json JavaScript \u914d\u7f6e\u6587\u4ef6"},{"location":"getting-started/project-structure/#3","title":"3. \u5e94\u7528\u7a0b\u5e8f\u8def\u7531\u7ea6\u5b9a","text":"<p>\u4ee5\u4e0b\u6587\u4ef6\u7ea6\u5b9a\u7528\u4e8e\u5b9a\u4e49\u8def\u7531\uff0c\u5e76\u5904\u7406\u5e94\u7528\u7a0b\u5e8f\u8def\u7531\u5668\u4e2d\u7684\u5143\u6570\u636e\u3002</p>"},{"location":"getting-started/project-structure/#31","title":"3.1 \u8def\u7531\u6587\u4ef6","text":"\u6587\u4ef6\u540d \u6587\u4ef6\u540d\u540e\u7f00 \u63cf\u8ff0 layout <code>.js</code>\u3001<code>.jsx</code>\u3001<code>.tsx</code> \u5e03\u5c40 page <code>.js</code>\u3001<code>.jsx</code>\u3001<code>.tsx</code> \u9875\u9762 loading <code>.js</code>\u3001<code>.jsx</code>\u3001<code>.tsx</code> \u52a0\u8f7d\u7684 UI not-found <code>.js</code>\u3001<code>.jsx</code>\u3001<code>.tsx</code> \u627e\u4e0d\u5230\u7684 UI error <code>.js</code>\u3001<code>.jsx</code>\u3001<code>.tsx</code> \u9519\u8bef\u7684 UI global-error <code>.js</code>\u3001<code>.jsx</code>\u3001<code>.tsx</code> \u5168\u5c40\u9519\u8bef\u9875\u9762 route <code>.js</code>\u3001<code>.jsx</code>\u3001<code>.tsx</code> \u8def\u7531\u6587\u4ef6 template <code>.js</code>\u3001<code>.jsx</code>\u3001<code>.tsx</code> \u6a21\u677f\u6587\u4ef6 default <code>.js</code>\u3001<code>.jsx</code>\u3001<code>.tsx</code> \u9ed8\u8ba4\u6587\u4ef6"},{"location":"getting-started/project-structure/#32","title":"3.2 \u5d4c\u5957\u8def\u7531","text":"\u5f62\u5f0f \u63cf\u8ff0 folder \u5206\u6bb5\u8def\u7531 folder/folder \u5d4c\u5957\u5206\u6bb5\u8def\u7531"},{"location":"getting-started/project-structure/#33","title":"3.3 \u52a8\u6001\u8def\u7531","text":"\u5f62\u5f0f \u63cf\u8ff0 <code>[folder]</code> \u52a8\u6001\u8def\u7531\u6bb5 <code>[...folder]</code> \u6355\u83b7\u6240\u6709\u8def\u7531\u6bb5 <code>[[...folder]]</code> \u53ef\u9009\u9879\uff0c\u6355\u83b7\u6240\u6709\u8def\u7531\u6bb5"},{"location":"getting-started/project-structure/#35","title":"3.5 \u8def\u7531\u7ec4\u548c\u79c1\u7acb\u6587\u4ef6\u5939","text":"\u5f62\u5f0f \u63cf\u8ff0 <code>(folder)</code> \u5bf9\u8def\u7531\u8fdb\u884c\u5206\u7ec4\uff0c\u4f46\u4e0d\u4f1a\u5f71\u54cd\u8def\u7531\u8def\u7531 <code>_folder</code> \u53ef\u9009\u6587\u4ef6\u5939\uff0c\u8be5\u6587\u4ef6\u5939\u4e0b\u6240\u6709\u8def\u7531\u6bb5\u4e0d\u53c2\u4e0e\u8def\u7531"},{"location":"getting-started/project-structure/#36","title":"3.6 \u5e76\u884c\u548c\u62e6\u622a\u7684\u8def\u7531","text":"\u5f62\u5f0f \u63cf\u8ff0 <code>@folder</code> \u547d\u540d\u7684\u63d2\u69fd <code>(.)folder</code> \u62e6\u622a\u540c\u7ea7\u8def\u7531 <code>(..)folder</code> \u62e6\u622a\u4e0a\u4e00\u5c42\u7ea7\u8def\u7531 <code>(..)(..)folder</code> \u62e6\u622a\u4e0a\u4e24\u5c42\u7ea7\u8def\u7531 <code>(...)folder</code> \u62e6\u622a root \u4e0b\u6240\u6709\u8def\u7531"},{"location":"getting-started/project-structure/#37","title":"3.7 \u5143\u6570\u636e\u6587\u4ef6\u7ea6\u5b9a","text":"\u6587\u4ef6\u540d \u6587\u4ef6\u540e\u7f00 \u63cf\u8ff0 favicon <code>.ico</code> \u7f51\u7ad9\u56fe\u6807 icon <code>.ico</code>\u3001<code>.jpg</code>\u3001<code>.jpeg</code>\u3001<code>.png</code>\u3001<code>.svg</code> APP \u56fe\u6807\u6587\u4ef6 icon <code>.js</code>\u3001<code>.ts</code>\u3001<code>.tsx</code> \u751f\u6210\u7684 APP \u56fe\u6807 apple-icon <code>.jpg</code>\u3001<code>.jpeg</code>\u3001<code>.png</code> \u82f9\u679c APP \u56fe\u6807\u6587\u4ef6 apple-icon <code>.js</code>\u3001<code>.ts</code>\u3001<code>.tsx</code> \u751f\u6210\u7684\u82f9\u679c\u5e94\u7528\u7a0b\u5e8f\u56fe\u6807"},{"location":"getting-started/project-structure/#38-open-graph-twitter","title":"3.8 Open Graph \u548c Twitter \u56fe\u7247","text":"\u6587\u4ef6\u540d \u6587\u4ef6\u540e\u7f00 \u63cf\u8ff0 opengraph-image <code>.jpg</code>\u3001<code>.jpeg</code>\u3001<code>.png</code>\u3001<code>.gif</code> Open Graph \u56fe\u7247 opengraph-image <code>.js</code>\u3001<code>.ts</code>\u3001<code>.tsx</code> \u751f\u6210\u7684 Open Graph \u56fe\u7247 twitter-image <code>.jpg</code>\u3001<code>.jpeg</code>\u3001<code>.png</code>\u3001<code>.gif</code> Twitter \u56fe\u7247\u6587\u4ef6 twitter-image <code>.js</code>\u3001<code>.ts</code>\u3001<code>.tsx</code> \u751f\u6210\u7684 Twitter \u56fe\u7247"},{"location":"getting-started/project-structure/#39-seo","title":"3.9 SEO","text":"\u6587\u4ef6\u540d \u6587\u4ef6\u540e\u7f00 \u63cf\u8ff0 sitemap <code>.xml</code> \u7f51\u7ad9\u5730\u56fe\u6587\u4ef6 sitemap <code>.js</code>\u3001<code>ts</code> \u751f\u6210\u7684\u7f51\u7ad9\u5730\u56fe\u6587\u4ef6 robots <code>.txt</code> \u641c\u7d22\u5f15\u64ce\u673a\u5668\u4eba\u6587\u4ef6 robots <code>.js</code>\u3001<code>ts</code> \u751f\u6210\u7684\u641c\u7d22\u5f15\u64ce\u673a\u5668\u4eba\u6587\u4ef6"},{"location":"getting-started/project-structure/#4","title":"4. \u9875\u9762\u8def\u7531\u7ea6\u5b9a","text":"<p>\u4ee5\u4e0b\u6587\u4ef6\u7ea6\u5b9a\u7528\u4e8e\u5b9a\u4e49\u9875\u9762\u8def\u7531\u5668\u4e2d\u7684\u8def\u7531\u3002</p>"},{"location":"getting-started/project-structure/#41","title":"4.1 \u7279\u6b8a\u6587\u4ef6","text":"\u6587\u4ef6\u540d \u6587\u4ef6\u540e\u7f00 \u63cf\u8ff0 <code>_app</code> <code>.js</code>\u3001<code>.ts</code>\u3001<code>.tsx</code> \u81ea\u5b9a\u4e49\u5e94\u7528 <code>_document</code> <code>.js</code>\u3001<code>.ts</code>\u3001<code>.tsx</code> \u81ea\u5b9a\u4e49\u6587\u6863 <code>_error</code> <code>.js</code>\u3001<code>.ts</code>\u3001<code>.tsx</code> \u9519\u8bef\u9875\u9762 <code>404</code> <code>.js</code>\u3001<code>.ts</code>\u3001<code>.tsx</code> 404 \u9519\u8bef\u9875\u9762 <code>500</code> <code>.js</code>\u3001<code>.ts</code>\u3001<code>.tsx</code> 500 \u9519\u8bef\u9875\u9762"},{"location":"getting-started/project-structure/#42","title":"4.2 \u8def\u7531","text":"\u6587\u4ef6\u5939 \u6587\u4ef6\u540e\u7f00 \u63cf\u8ff0 <code>index</code> <code>.js</code>\u3001<code>.ts</code>\u3001<code>.tsx</code> \u4e3b\u9875 <code>folder/index</code> <code>.js</code>\u3001<code>.ts</code>\u3001<code>.tsx</code> \u5d4c\u5957\u9875\u9762 \u6587\u4ef6\u540d \u6587\u4ef6\u540e\u7f00 \u63cf\u8ff0 <code>index</code> <code>.js</code>\u3001<code>.ts</code>\u3001<code>.tsx</code> \u4e3b\u9875 <code>folder/index</code> <code>.js</code>\u3001<code>.ts</code>\u3001<code>.tsx</code> \u5d4c\u5957\u9875\u9762"},{"location":"getting-started/project-structure/#43","title":"4.3 \u52a8\u6001\u8def\u7531","text":"\u6587\u4ef6\u5939 \u6587\u4ef6\u540e\u7f00 \u63cf\u8ff0 <code>[folder]/index</code> <code>.js</code>\u3001<code>.ts</code>\u3001<code>.tsx</code> \u52a8\u6001\u8def\u7531\u6bb5 <code>[...folder]/index</code> <code>.js</code>\u3001<code>.ts</code>\u3001<code>.tsx</code> \u6355\u83b7\u6240\u6709\u8def\u7531\u6bb5 <code>[[...folder]]/index</code> <code>.js</code>\u3001<code>.ts</code>\u3001<code>.tsx</code> \u53ef\u9009\u9879\uff0c\u6355\u83b7\u6240\u6709\u8def\u7531\u6bb5 \u6587\u4ef6\u540d \u6587\u4ef6\u540e\u7f00 \u63cf\u8ff0 <code>file</code> <code>.js</code>\u3001<code>.ts</code>\u3001<code>.tsx</code> \u52a8\u6001\u8def\u7531\u6bb5 <code>[...file]</code> <code>.js</code>\u3001<code>.ts</code>\u3001<code>.tsx</code> \u6355\u83b7\u6240\u6709\u8def\u7531\u6bb5 <code>[[...file]]</code> <code>.js</code>\u3001<code>.ts</code>\u3001<code>.tsx</code> \u53ef\u9009\u9879\uff0c\u6355\u83b7\u6240\u6709\u8def\u7531\u6bb5"}]}